{
  "version": 3,
  "sources": ["../../@daypilot/modal/src/searchable.js", "../../@daypilot/modal/src/locale.js", "../../@daypilot/modal/src/date.js", "../../@daypilot/modal/src/navigator.js", "../../@daypilot/modal/src/datepicker.js", "../../@daypilot/modal/src/table.js", "../../@daypilot/modal/src/form.js", "../../@daypilot/modal/src/modal.js"],
  "sourcesContent": ["/*\r\nCopyright (c) 2010 - 2020 Annpoint, s.r.o.\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\nhttp://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\n-------------------------------------------------------------------------\r\n\r\nNOTE: Requires the following acknowledgement (see also NOTICE):\r\n\r\nThis product includes DayPilot Modal (https://modal.daypilot.org).\r\n\r\n*/\r\n\r\nconst local = {};\r\n\r\n(function (DayPilot) {\r\n  'use strict';\r\n\r\n  if (DayPilot.Searchable) {\r\n    return;\r\n  }\r\n\r\n  var Searchable = function(options) {\r\n\r\n    // properties\r\n    this.data = [];\r\n    this.name = null;\r\n    this.theme = \"searchable_default\";\r\n    this._disabled = false;\r\n    this.listZIndex = 100000;\r\n\r\n\r\n    // events\r\n    this.onSelect = null;\r\n\r\n    // state\r\n    this._selected = null;\r\n    this._highlighted = null;\r\n    this._collapsed = false;\r\n    // this._focused = false;\r\n    // this._filter = null;\r\n\r\n    // view\r\n    this._input = null;\r\n    this._list = null;\r\n    this._options = [];\r\n    this._hidden = null;\r\n\r\n    options = options || {};\r\n\r\n    var t = this;\r\n\r\n    var specialHandling = {\r\n      \"selected\": {\r\n        post: function(val) {\r\n          if (typeof val === \"object\" && val.id) {\r\n            t._selected = val;\r\n          }\r\n          else if (typeof val === \"string\" || typeof val === \"number\") {\r\n            t.select(val);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    Object.defineProperty(this, \"selected\", {\r\n      get: function() {\r\n        return this._selected;\r\n      },\r\n    });\r\n\r\n    Object.defineProperty(this, \"disabled\", {\r\n      get: function() {\r\n        return this._disabled;\r\n      },\r\n      set: function(val) {\r\n        this._disabled = val;\r\n        if (this._input) {\r\n          this._input.disabled = val;\r\n          if (val) {\r\n            // verify\r\n            this._cancel();\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    for (var name in options) {\r\n      if (!specialHandling[name]) {\r\n        this[name] = options[name];\r\n      }\r\n    }\r\n\r\n    for (var name in options) {\r\n      if (specialHandling[name]) {\r\n        specialHandling[name].post(options[name]);\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  Searchable.prototype.select = function(id) {\r\n    this._selected = this.data.find(function(item) { return item.id === id });\r\n    this._doOnSelect(false);\r\n    return this;\r\n  };\r\n\r\n\r\n  Searchable.prototype.create = function() {\r\n    var component = this;\r\n    var t = this;\r\n\r\n    var div = document.createElement(\"div\");\r\n    div.className = this.theme + \"_main\";\r\n    div.style.position = \"relative\";\r\n\r\n    var icon = document.createElement(\"div\");\r\n    icon.className = this.theme + \"_icon\";\r\n    icon.style.position = \"absolute\";\r\n    icon.style.right = \"0\";\r\n    icon.style.top = \"0\";\r\n    icon.style.bottom = \"0\";\r\n    icon.style.width = \"20px\";\r\n    icon.addEventListener(\"mousedown\", function(ev) {\r\n      ev.preventDefault();\r\n      if (component._collapsed) {\r\n        component.focus();\r\n        expand();\r\n      }\r\n      else {\r\n        cancel();\r\n        collapse();\r\n      }\r\n    });\r\n\r\n    var list = document.createElement(\"div\");\r\n    list.className = this.theme + \"_list\";\r\n    list.style.display = \"none\";\r\n    list.style.position = \"absolute\";\r\n    list.style.zIndex = this.listZIndex;\r\n\r\n    var hidden = document.createElement(\"input\");\r\n    hidden.type = \"hidden\";\r\n    hidden.name = this.name;\r\n    hidden.searchable = t;\r\n    this._hidden = hidden;\r\n\r\n    var input = document.createElement(\"input\");\r\n    input.type = \"text\";\r\n    input.className = this.theme + \"_input\";\r\n    input.disabled = this._disabled;\r\n    input.addEventListener(\"click\", function(ev) {\r\n      // console.log(\"click\");\r\n      expand();\r\n    });\r\n    input.addEventListener(\"focus\", function(ev) {\r\n      // do not call expand() here, the readonly status has to stay\r\n      // input.value = \"\";\r\n      // console.log(\"focus\");\r\n      filter(\"all\");\r\n    });\r\n    input.addEventListener(\"input\", function(ev) {\r\n      filter();\r\n    });\r\n    input.addEventListener(\"blur\", function(ev) {\r\n      input.removeAttribute(\"readonly\");\r\n      cancel();\r\n    });\r\n\r\n    input.addEventListener(\"keydown\", function(ev) {\r\n      if (component._collapsed) {\r\n        if (ev.key === \"Enter\") {\r\n          return;\r\n        }\r\n        if (ev.key === \"Esc\" || ev.key === \"Escape\") {\r\n          return;\r\n        }\r\n        expand();\r\n      }\r\n\r\n      if (ev.key === \"ArrowDown\") {\r\n        var index = t._options.indexOf(t._highlighted);\r\n        if (index + 1 < t._options.length) {\r\n          t._highlighted = t._options[index + 1];\r\n        }\r\n        updateHiglight();\r\n      } else if (ev.key === \"ArrowUp\") {\r\n        var index = t._options.indexOf(t._highlighted);\r\n        if (index - 1 >= 0) {\r\n          t._highlighted = t._options[index - 1];\r\n        }\r\n        updateHiglight();\r\n      } else if (ev.key === \"Enter\") {\r\n        if (component._highlighted) {\r\n          ev.stopPropagation();\r\n          selectOption(component._highlighted);\r\n        }\r\n        else {\r\n          ev.stopPropagation();\r\n          // t._cancel();\r\n          cancel();\r\n          collapse();\r\n        }\r\n      } else if (ev.key === \"Esc\" || ev.key === \"Escape\") {\r\n        ev.stopPropagation();\r\n        cancel();\r\n        collapse();\r\n      }\r\n    });\r\n    this._input = input;\r\n    this._list = list;\r\n\r\n    if (!this._selected) {\r\n      this._selected = this.data[0];\r\n      if (this._selected) {\r\n        input.value = this._selected.name;\r\n      }\r\n    }\r\n\r\n    function filter(strategy) {\r\n      // component._collapsed = false;\r\n\r\n      var defaultStrategy = component.strategy;\r\n      if (component.strategy !== \"includes\" && component.strategy !== \"startsWith\") {\r\n        defaultStrategy = \"includes\";\r\n      }\r\n\r\n      strategy = strategy || defaultStrategy || \"includes\";\r\n\r\n      list.style.display = \"\";\r\n      list.style.top = input.offsetHeight + \"px\";\r\n      list.style.left = \"0px\";\r\n      list.style.width = input.offsetWidth + \"px\";\r\n      list.innerHTML = \"\";\r\n\r\n      // allow scrollbar access\r\n      list.addEventListener(\"mousedown\", function(ev) {\r\n        ev.preventDefault();\r\n      });\r\n\r\n      component._highlighted = null;\r\n\r\n      component._options = [];\r\n\r\n      var first = null;\r\n\r\n      component.data.forEach(function(item) {\r\n\r\n        var name = item.name || item.id;\r\n\r\n        if (strategy === \"includes\") {\r\n          if (name.toLowerCase().indexOf(input.value.toLowerCase()) === -1) {\r\n            return;\r\n          }\r\n        }\r\n        else if (strategy === \"startsWith\") {\r\n          if (name.toLowerCase().indexOf(input.value.toLowerCase()) !== 0) {\r\n            return;\r\n          }\r\n        }\r\n        else if (strategy === \"all\") {\r\n          // don't skip\r\n        }\r\n\r\n\r\n        var option = document.createElement(\"div\");\r\n        option.className = component.theme + \"_list_item\";\r\n        option.innerText = name;\r\n\r\n        option.item = item;\r\n\r\n        if (item === component._selected) {\r\n          component._highlighted = option;\r\n        }\r\n        if (!first) {\r\n          first = option;\r\n        }\r\n\r\n        // \"mousedown\" goes before blur, \"click\" goes after\r\n        option.addEventListener(\"mousedown\", function(ev) {\r\n          selectOption(option);\r\n          ev.preventDefault();\r\n        });\r\n\r\n        option.addEventListener(\"mousemove\", function(ev) {\r\n          if (component._highlighted === option) {\r\n            return;\r\n          }\r\n          component._highlighted = option;\r\n          updateHiglight({dontScroll: true});\r\n        });\r\n\r\n        list.appendChild(option);\r\n\r\n        component._options.push(option);\r\n      });\r\n\r\n      if (!component._highlighted) {\r\n        component._highlighted = first;\r\n      }\r\n      updateHiglight();\r\n    }\r\n\r\n    function updateHiglight(options) {\r\n      options = options || {};\r\n      var scrollIntoView = !options.dontScroll;\r\n\r\n      // redo, avoid selectors\r\n      var previous = document.querySelectorAll(\".\" + component.theme + \"_list_item_highlight\");\r\n      previous.forEach(function(p) {\r\n        p.className = p.className.replace(component.theme + \"_list_item_highlight\", \"\");\r\n      });\r\n\r\n      if (component._highlighted) {\r\n        component._highlighted.className += \" \" + component.theme + \"_list_item_highlight\";\r\n\r\n        if (scrollIntoView && !isScrolledIntoView(component._highlighted, list)) {\r\n          component._highlighted.scrollIntoView();\r\n        }\r\n      }\r\n    }\r\n\r\n    function isScrolledIntoView(target, viewport) {\r\n      var tRect = target.getBoundingClientRect();\r\n      var vRect = viewport.getBoundingClientRect();\r\n      return tRect.top >= vRect.top && tRect.bottom <= vRect.bottom;\r\n    }\r\n\r\n    function selectOption(option) {\r\n      var item = option.item;\r\n\r\n      // input.value = option.innerText;\r\n      component._selected = item;\r\n      component._doOnSelect(true);\r\n      hide();\r\n      collapse();\r\n    }\r\n\r\n    function cancel() {\r\n      component._cancel();\r\n    }\r\n\r\n    function hide() {\r\n      component._hide();\r\n    }\r\n\r\n    function collapse() {\r\n      component._collapsed = true;\r\n      input.setAttribute(\"readonly\", \"readonly\");\r\n      input.focus();\r\n    }\r\n\r\n    function expand() {\r\n      component._collapsed = false;\r\n      input.removeAttribute(\"readonly\");\r\n      // input.value = \"\";\r\n      input.select();\r\n      filter(\"all\");\r\n    }\r\n\r\n    div.appendChild(input);\r\n    div.appendChild(icon);\r\n    div.appendChild(hidden);\r\n    div.appendChild(list);\r\n    return div;\r\n  };\r\n\r\n  Searchable.prototype._cancel = function() {\r\n    this._hide();\r\n    if (!this._selected) {\r\n      this._input.value = \"\";\r\n      // not sure about this:\r\n      this._doOnSelect(true);\r\n    } else {\r\n      this._input.value = this._selected.name;\r\n    }\r\n    // collapse();\r\n  }\r\n\r\n  Searchable.prototype.focus = function() {\r\n      // this._input.focus();\r\n\r\n    this._collapsed = true;\r\n    this._input.setAttribute(\"readonly\", \"readonly\");\r\n    this._input.focus();\r\n    this._cancel();\r\n  };\r\n\r\n  Searchable.prototype._hide = function() {\r\n    this._list.style.display = \"none\";\r\n  };\r\n\r\n  Searchable.prototype._doOnSelect = function(byUser) {\r\n    this._hidden.value = this.selected ? this.selected.id : null;\r\n    if (this._selected) {\r\n      this._input.value = this._selected.name;\r\n    }\r\n    else {\r\n      this._input.value = \"\";\r\n    }\r\n\r\n    if (typeof this.onSelect === \"function\") {\r\n      var args = {\r\n        control: this,\r\n        ui: byUser\r\n      };\r\n      this.onSelect(args);\r\n    }\r\n  };\r\n\r\n  DayPilot.Searchable = Searchable;\r\n\r\n})(local);\r\n\r\nconst {Searchable} = local;\r\nexport {Searchable};\r\n", "/*\r\nCopyright (c) 2010 - 2020 Annpoint, s.r.o.\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\nhttp://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\n-------------------------------------------------------------------------\r\n\r\nNOTE: Requires the following acknowledgement (see also NOTICE):\r\n\r\nThis product includes DayPilot Modal (https://modal.daypilot.org).\r\n\r\n*/\r\n\r\nvar local = {};\r\n\r\n(function(DayPilot) {\r\n  'use strict';\r\n\r\n  if (typeof DayPilot.Locale !== \"undefined\") {\r\n    return;\r\n  }\r\n\r\n  var replaceCharAt = function(str, index, character) {\r\n    return str.substr(0, index) + character + str.substr(index + character.length);\r\n  };\r\n\r\n  DayPilot.Locale = function(id, config) {\r\n    this.id = id;\r\n    this.dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    this.dayNamesShort = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\r\n    this.monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    this.monthNamesShort  = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n    this.datePattern = \"M/d/yyyy\";\r\n    this.timePattern = \"H:mm\";\r\n    this.dateTimePattern = \"M/d/yyyy H:mm\";\r\n    this.timeFormat = \"Clock12Hours\";\r\n    this.weekStarts = 0; // Sunday\r\n\r\n    if (config) {\r\n      for (var name in config) {\r\n        this[name] = config[name];\r\n      }\r\n    }\r\n  };\r\n\r\n  DayPilot.Locale.all = {};\r\n\r\n  DayPilot.Locale.find = function(id) {\r\n    if (!id) {\r\n      return null;\r\n    }\r\n    var normalized = id.toLowerCase();\r\n    if (normalized.length > 2) {\r\n      normalized = replaceCharAt(normalized, 2, '-');\r\n    }\r\n    return DayPilot.Locale.all[normalized];\r\n  };\r\n\r\n  DayPilot.Locale.register = function(locale) {\r\n    DayPilot.Locale.all[locale.id] = locale;\r\n  };\r\n\r\n  DayPilot.Locale.register(new DayPilot.Locale('ca-es', {'dayNames':['diumenge','dilluns','dimarts','dimecres','dijous','divendres','dissabte'],'dayNamesShort':['dg','dl','dt','dc','dj','dv','ds'],'monthNames':['gener','febrer','març','abril','maig','juny','juliol','agost','setembre','octubre','novembre','desembre',''],'monthNamesShort':['gen.','febr.','març','abr.','maig','juny','jul.','ag.','set.','oct.','nov.','des.',''],'timePattern':'H:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('cs-cz', {'dayNames':['neděle','pondělí','úterý','středa','čtvrtek','pátek','sobota'],'dayNamesShort':['ne','po','út','st','čt','pá','so'],'monthNames':['leden','únor','březen','duben','květen','červen','červenec','srpen','září','říjen','listopad','prosinec',''],'monthNamesShort':['I','II','III','IV','V','VI','VII','VIII','IX','X','XI','XII',''],'timePattern':'H:mm','datePattern':'d. M. yyyy','dateTimePattern':'d. M. yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('da-dk', {'dayNames':['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'],'dayNamesShort':['sø','ma','ti','on','to','fr','lø'],'monthNames':['januar','februar','marts','april','maj','juni','juli','august','september','oktober','november','december',''],'monthNamesShort':['jan','feb','mar','apr','maj','jun','jul','aug','sep','okt','nov','dec',''],'timePattern':'HH:mm','datePattern':'dd-MM-yyyy','dateTimePattern':'dd-MM-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('de-at', {'dayNames':['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],'dayNamesShort':['So','Mo','Di','Mi','Do','Fr','Sa'],'monthNames':['Jänner','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember',''],'monthNamesShort':['Jän','Feb','Mär','Apr','Mai','Jun','Jul','Aug','Sep','Okt','Nov','Dez',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('de-ch', {'dayNames':['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],'dayNamesShort':['So','Mo','Di','Mi','Do','Fr','Sa'],'monthNames':['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember',''],'monthNamesShort':['Jan','Feb','Mrz','Apr','Mai','Jun','Jul','Aug','Sep','Okt','Nov','Dez',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('de-de', {'dayNames':['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],'dayNamesShort':['So','Mo','Di','Mi','Do','Fr','Sa'],'monthNames':['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember',''],'monthNamesShort':['Jan','Feb','Mrz','Apr','Mai','Jun','Jul','Aug','Sep','Okt','Nov','Dez',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('de-lu', {'dayNames':['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],'dayNamesShort':['So','Mo','Di','Mi','Do','Fr','Sa'],'monthNames':['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember',''],'monthNamesShort':['Jan','Feb','Mrz','Apr','Mai','Jun','Jul','Aug','Sep','Okt','Nov','Dez',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('en-au', {'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'monthNamesShort':['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec',''],'timePattern':'h:mm tt','datePattern':'d/MM/yyyy','dateTimePattern':'d/MM/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('en-ca', {'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'monthNamesShort':['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec',''],'timePattern':'h:mm tt','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('en-gb', {'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'monthNamesShort':['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('en-us', {'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'monthNamesShort':['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec',''],'timePattern':'h:mm tt','datePattern':'M/d/yyyy','dateTimePattern':'M/d/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('es-es', {'dayNames':['domingo','lunes','martes','miércoles','jueves','viernes','sábado'],'dayNamesShort':['D','L','M','X','J','V','S'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'monthNamesShort':['ene.','feb.','mar.','abr.','may.','jun.','jul.','ago.','sep.','oct.','nov.','dic.',''],'timePattern':'H:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('es-mx', {'dayNames':['domingo','lunes','martes','miércoles','jueves','viernes','sábado'],'dayNamesShort':['do.','lu.','ma.','mi.','ju.','vi.','sá.'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'monthNamesShort':['ene.','feb.','mar.','abr.','may.','jun.','jul.','ago.','sep.','oct.','nov.','dic.',''],'timePattern':'hh:mm tt','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy hh:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('eu-es', {'dayNames':['igandea','astelehena','asteartea','asteazkena','osteguna','ostirala','larunbata'],'dayNamesShort':['ig','al','as','az','og','or','lr'],'monthNames':['urtarrila','otsaila','martxoa','apirila','maiatza','ekaina','uztaila','abuztua','iraila','urria','azaroa','abendua',''],'monthNamesShort':['urt.','ots.','mar.','api.','mai.','eka.','uzt.','abu.','ira.','urr.','aza.','abe.',''],'timePattern':'H:mm','datePattern':'yyyy/MM/dd','dateTimePattern':'yyyy/MM/dd H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('fi-fi', {'dayNames':['sunnuntai','maanantai','tiistai','keskiviikko','torstai','perjantai','lauantai'],'dayNamesShort':['su','ma','ti','ke','to','pe','la'],'monthNames':['tammikuu','helmikuu','maaliskuu','huhtikuu','toukokuu','kesäkuu','heinäkuu','elokuu','syyskuu','lokakuu','marraskuu','joulukuu',''],'monthNamesShort':['tammi','helmi','maalis','huhti','touko','kesä','heinä','elo','syys','loka','marras','joulu',''],'timePattern':'H:mm','datePattern':'d.M.yyyy','dateTimePattern':'d.M.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('fr-be', {'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre',''],'monthNamesShort':['janv.','févr.','mars','avr.','mai','juin','juil.','août','sept.','oct.','nov.','déc.',''],'timePattern':'HH:mm','datePattern':'dd-MM-yy','dateTimePattern':'dd-MM-yy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('fr-ca', {'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre',''],'monthNamesShort':['janv.','févr.','mars','avr.','mai','juin','juil.','août','sept.','oct.','nov.','déc.',''],'timePattern':'HH:mm','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd HH:mm','timeFormat':'Clock24Hours','weekStarts':0}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('fr-ch', {'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre',''],'monthNamesShort':['janv.','févr.','mars','avr.','mai','juin','juil.','août','sept.','oct.','nov.','déc.',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('fr-fr', {'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre',''],'monthNamesShort':['janv.','févr.','mars','avr.','mai','juin','juil.','août','sept.','oct.','nov.','déc.',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('fr-lu', {'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre',''],'monthNamesShort':['janv.','févr.','mars','avr.','mai','juin','juil.','août','sept.','oct.','nov.','déc.',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('gl-es', {'dayNames':['domingo','luns','martes','mércores','xoves','venres','sábado'],'dayNamesShort':['do','lu','ma','mé','xo','ve','sá'],'monthNames':['xaneiro','febreiro','marzo','abril','maio','xuño','xullo','agosto','setembro','outubro','novembro','decembro',''],'monthNamesShort':['xan','feb','mar','abr','maio','xuño','xul','ago','set','out','nov','dec',''],'timePattern':'H:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('it-it', {'dayNames':['domenica','lunedì','martedì','mercoledì','giovedì','venerdì','sabato'],'dayNamesShort':['do','lu','ma','me','gi','ve','sa'],'monthNames':['gennaio','febbraio','marzo','aprile','maggio','giugno','luglio','agosto','settembre','ottobre','novembre','dicembre',''],'monthNamesShort':['gen','feb','mar','apr','mag','giu','lug','ago','set','ott','nov','dic',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('it-ch', {'dayNames':['domenica','lunedì','martedì','mercoledì','giovedì','venerdì','sabato'],'dayNamesShort':['do','lu','ma','me','gi','ve','sa'],'monthNames':['gennaio','febbraio','marzo','aprile','maggio','giugno','luglio','agosto','settembre','ottobre','novembre','dicembre',''],'monthNamesShort':['gen','feb','mar','apr','mag','giu','lug','ago','set','ott','nov','dic',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('ja-jp', {'dayNames':['日曜日','月曜日','火曜日','水曜日','木曜日','金曜日','土曜日'],'dayNamesShort':['日','月','火','水','木','金','土'],'monthNames':['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月',''],'monthNamesShort':['1','2','3','4','5','6','7','8','9','10','11','12',''],'timePattern':'H:mm','datePattern':'yyyy/MM/dd','dateTimePattern':'yyyy/MM/dd H:mm','timeFormat':'Clock24Hours','weekStarts':0}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('ko-kr', {'dayNames':['일요일','월요일','화요일','수요일','목요일','금요일','토요일'],'dayNamesShort':['일','월','화','수','목','금','토'],'monthNames':['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월',''],'monthNamesShort':['1','2','3','4','5','6','7','8','9','10','11','12',''],'timePattern':'tt h:mm','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd tt h:mm','timeFormat':'Clock12Hours','weekStarts':0}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('nb-no', {'dayNames':['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'],'dayNamesShort':['sø','ma','ti','on','to','fr','lø'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'monthNamesShort':['jan','feb','mar','apr','mai','jun','jul','aug','sep','okt','nov','des',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('nl-nl', {'dayNames':['zondag','maandag','dinsdag','woensdag','donderdag','vrijdag','zaterdag'],'dayNamesShort':['zo','ma','di','wo','do','vr','za'],'monthNames':['januari','februari','maart','april','mei','juni','juli','augustus','september','oktober','november','december',''],'monthNamesShort':['jan','feb','mrt','apr','mei','jun','jul','aug','sep','okt','nov','dec',''],'timePattern':'HH:mm','datePattern':'d-M-yyyy','dateTimePattern':'d-M-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('nl-be', {'dayNames':['zondag','maandag','dinsdag','woensdag','donderdag','vrijdag','zaterdag'],'dayNamesShort':['zo','ma','di','wo','do','vr','za'],'monthNames':['januari','februari','maart','april','mei','juni','juli','augustus','september','oktober','november','december',''],'monthNamesShort':['jan','feb','mrt','apr','mei','jun','jul','aug','sep','okt','nov','dec',''],'timePattern':'H:mm','datePattern':'d/MM/yyyy','dateTimePattern':'d/MM/yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('nn-no', {'dayNames':['søndag','måndag','tysdag','onsdag','torsdag','fredag','laurdag'],'dayNamesShort':['sø','må','ty','on','to','fr','la'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'monthNamesShort':['jan','feb','mar','apr','mai','jun','jul','aug','sep','okt','nov','des',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('pt-br', {'dayNames':['domingo','segunda-feira','terça-feira','quarta-feira','quinta-feira','sexta-feira','sábado'],'dayNamesShort':['D','S','T','Q','Q','S','S'],'monthNames':['janeiro','fevereiro','março','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro',''],'monthNamesShort':['jan','fev','mar','abr','mai','jun','jul','ago','set','out','nov','dez',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':0}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('pl-pl', {'dayNames':['niedziela','poniedziałek','wtorek','środa','czwartek','piątek','sobota'],'dayNamesShort':['N','Pn','Wt','Śr','Cz','Pt','So'],'monthNames':['styczeń','luty','marzec','kwiecień','maj','czerwiec','lipiec','sierpień','wrzesień','październik','listopad','grudzień',''],'monthNamesShort':['sty','lut','mar','kwi','maj','cze','lip','sie','wrz','paź','lis','gru',''],'timePattern':'HH:mm','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('pt-pt', {'dayNames':['domingo','segunda-feira','terça-feira','quarta-feira','quinta-feira','sexta-feira','sábado'],'dayNamesShort':['D','S','T','Q','Q','S','S'],'monthNames':['janeiro','fevereiro','março','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro',''],'monthNamesShort':['jan','fev','mar','abr','mai','jun','jul','ago','set','out','nov','dez',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':0}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('ro-ro', {'dayNames':['duminică','luni','marți','miercuri','joi','vineri','sâmbătă'],'dayNamesShort':['D','L','Ma','Mi','J','V','S'],'monthNames':['ianuarie','februarie','martie','aprilie','mai','iunie','iulie','august','septembrie','octombrie','noiembrie','decembrie',''],'monthNamesShort':['ian.','feb.','mar.','apr.','mai.','iun.','iul.','aug.','sep.','oct.','nov.','dec.',''],'timePattern':'H:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('ru-ru', {'dayNames':['воскресенье','понедельник','вторник','среда','четверг','пятница','суббота'],'dayNamesShort':['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],'monthNames':['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь',''],'monthNamesShort':['янв','фев','мар','апр','май','июн','июл','авг','сен','окт','ноя','дек',''],'timePattern':'H:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('sk-sk', {'dayNames':['nedeľa','pondelok','utorok','streda','štvrtok','piatok','sobota'],'dayNamesShort':['ne','po','ut','st','št','pi','so'],'monthNames':['január','február','marec','apríl','máj','jún','júl','august','september','október','november','december',''],'monthNamesShort':['1','2','3','4','5','6','7','8','9','10','11','12',''],'timePattern':'H:mm','datePattern':'d.M.yyyy','dateTimePattern':'d.M.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('sv-se', {'dayNames':['söndag','måndag','tisdag','onsdag','torsdag','fredag','lördag'],'dayNamesShort':['sö','må','ti','on','to','fr','lö'],'monthNames':['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december',''],'monthNamesShort':['jan','feb','mar','apr','maj','jun','jul','aug','sep','okt','nov','dec',''],'timePattern':'HH:mm','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('tr-tr', {'dayNames':['Pazar','Pazartesi','Salı','Çarşamba','Perşembe','Cuma','Cumartesi'],'dayNamesShort':['Pz','Pt','Sa','Ça','Pe','Cu','Ct'],'monthNames':['Ocak','Şubat','Mart','Nisan','Mayıs','Haziran','Temmuz','Ağustos','Eylül','Ekim','Kasım','Aralık',''],'monthNamesShort':['Oca','Şub','Mar','Nis','May','Haz','Tem','Ağu','Eyl','Eki','Kas','Ara',''],'timePattern':'HH:mm','datePattern':'d.M.yyyy','dateTimePattern':'d.M.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n  DayPilot.Locale.register(new DayPilot.Locale('zh-cn', {'dayNames':['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],'dayNamesShort':['日','一','二','三','四','五','六'],'monthNames':['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月',''],'monthNamesShort':['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月',''],'timePattern':'H:mm','datePattern':'yyyy/M/d','dateTimePattern':'yyyy/M/d H:mm','timeFormat':'Clock24Hours','weekStarts':1}));\r\n\r\n  DayPilot.Locale.US = DayPilot.Locale.find(\"en-us\");\r\n\r\n})(local);\r\n\r\nconst {Locale} = local;\r\n\r\nexport {Locale};\r\n", "/*\r\nCopyright (c) 2010 - 2020 Annpoint, s.r.o.\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\nhttp://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\n-------------------------------------------------------------------------\r\n\r\nNOTE: Requires the following acknowledgement (see also NOTICE):\r\n\r\nThis product includes DayPilot Modal (https://modal.daypilot.org).\r\n\r\n*/\r\n\r\nimport {Locale} from \"./locale\";\r\n\r\nconst local = {\r\n  Locale\r\n};\r\n\r\n(function(DayPilot) {\r\n\r\n  if (typeof DayPilot.Date !== \"undefined\") {\r\n    return;\r\n  }\r\n\r\n  var isNullOrUndefined = function(val) {\r\n    return val === null || typeof val === \"undefined\";\r\n  };\r\n\r\n  DayPilot.Duration = function(ticks) {\r\n    var d = this;\r\n\r\n    var day = 1000*60*60*24.0;\r\n    var hour = 1000*60*60.0;\r\n    var minute = 1000*60.0;\r\n    var second = 1000.0;\r\n\r\n    if (arguments.length === 2) {\r\n      var start = arguments[0];\r\n      var end = arguments[1];\r\n\r\n      if (!(start instanceof DayPilot.Date) && (typeof start !== \"string\")) {\r\n        throw \"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected\";\r\n      }\r\n      if (!(end instanceof DayPilot.Date) && (typeof end !== \"string\")) {\r\n        throw \"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected\";\r\n      }\r\n      if (typeof start === \"string\") {\r\n        start = new DayPilot.Date(start);\r\n      }\r\n      if (typeof end === \"string\") {\r\n        end = new DayPilot.Date(end);\r\n      }\r\n      ticks = end.getTime() - start.getTime();\r\n    }\r\n\r\n    this.ticks = ticks;\r\n\r\n    // caching, allows direct comparison\r\n    if (DayPilot.Date.Cache.DurationCtor[\"\" + ticks]) {\r\n      return DayPilot.Date.Cache.DurationCtor[\"\" + ticks];\r\n    }\r\n    DayPilot.Date.Cache.DurationCtor[\"\" + ticks] = this;\r\n\r\n    this.toString = function(pattern) {\r\n      if (!pattern) {\r\n        return d.days() + \".\" + d.hours() + \":\" + d.minutes() + \":\" + d.seconds() + \".\" + d.milliseconds();\r\n      }\r\n\r\n      var minutes = d.minutes();\r\n      minutes = (minutes < 10 ? \"0\" : \"\") + minutes;\r\n\r\n      // dumb replacement\r\n      var result = pattern;\r\n      result = result.replace(\"mm\", minutes);\r\n      result = result.replace(\"m\", d.minutes());\r\n      result = result.replace(\"H\", d.hours());\r\n      result = result.replace(\"h\", d.hours());\r\n      result = result.replace(\"d\", d.days());\r\n      result = result.replace(\"s\", d.seconds());\r\n      return result;\r\n    };\r\n\r\n    this.totalHours = function() {\r\n      return d.ticks / hour;\r\n    };\r\n\r\n    this.totalDays = function() {\r\n      return d.ticks / day;\r\n    };\r\n\r\n    this.totalMinutes = function() {\r\n      return d.ticks / minute;\r\n    };\r\n\r\n    this.totalSeconds = function() {\r\n      return d.ticks / second;\r\n    };\r\n\r\n    this.days = function() {\r\n      return Math.floor(d.totalDays());\r\n    };\r\n\r\n    this.hours = function() {\r\n      var hourPartTicks = d.ticks - d.days()*day;\r\n      return Math.floor(hourPartTicks/hour);\r\n    };\r\n\r\n    this.minutes = function() {\r\n      var minutePartTicks = d.ticks - Math.floor(d.totalHours()) * hour;\r\n      return Math.floor(minutePartTicks/minute);\r\n    };\r\n\r\n    this.seconds = function() {\r\n      var secondPartTicks = d.ticks - Math.floor(d.totalMinutes()) * minute;\r\n      return Math.floor(secondPartTicks/second);\r\n    };\r\n\r\n    this.milliseconds = function() {\r\n      return d.ticks % second;\r\n    };\r\n\r\n  };\r\n\r\n  DayPilot.Duration.weeks = function(i) {\r\n    return new DayPilot.Duration(i * 1000*60*60*24*7);\r\n  };\r\n\r\n  DayPilot.Duration.days = function(i) {\r\n    return new DayPilot.Duration(i * 1000*60*60*24);\r\n  };\r\n\r\n  DayPilot.Duration.hours = function(i) {\r\n    return new DayPilot.Duration(i * 1000*60*60);\r\n  };\r\n\r\n  DayPilot.Duration.minutes = function(i) {\r\n    return new DayPilot.Duration(i * 1000*60);\r\n  };\r\n\r\n  DayPilot.Duration.seconds = function(i) {\r\n    return new DayPilot.Duration(i * 1000);\r\n  };\r\n\r\n  // alias to DayPilot.Duration\r\n  // disabled, doesn't work with caching\r\n  DayPilot.TimeSpan = function() {\r\n\r\n    throw \"Please use DayPilot.Duration class instead of DayPilot.TimeSpan.\";\r\n    // DayPilot.Duration.apply(this, arguments);\r\n  };\r\n  try {\r\n    DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype);  // make instanceof work\r\n  }\r\n  catch (e) {}  // doesn't work in IE8\r\n\r\n  // DayPilot.TimeSpan.prototype.constructor = DayPilot.TimeSpan;  // not necessary, it's an alias, not an inherited class\r\n\r\n  /* Date utils */\r\n\r\n  // DayPilot.Date class\r\n  /* Constructor signatures:\r\n\r\n   -- new DayPilot.Date(date, isLocal)\r\n   date - JavaScript Date object\r\n   isLocal - true if the local time should be taken from date, otherwise GMT base is used\r\n\r\n   -- new DayPilot.Date() - returns now, using local date\r\n\r\n   -- new DayPilot.Date(string)\r\n   string - date in ISO 8601 format, e.g. 2009-01-01T00:00:00\r\n\r\n   */\r\n  DayPilot.Date = function(date, readLocal) {\r\n\r\n    if (date instanceof DayPilot.Date) { // it's already a DayPilot.Date object, return it (no copy)\r\n      return date;\r\n    }\r\n\r\n    var ticks;\r\n\r\n    if (isNullOrUndefined(date)) {  // date not set, use NOW\r\n      ticks = DayPilot.DateUtil.fromLocal().getTime();\r\n      date = ticks;\r\n    }\r\n\r\n    var cache = DayPilot.Date.Cache.Ctor;\r\n    if (cache[date]) {\r\n      return cache[date];\r\n    }\r\n\r\n    var isString = false;\r\n\r\n    if (typeof date === \"string\") {\r\n      try {\r\n        ticks = DayPilot.DateUtil.fromStringSortable(date, readLocal).getTime();\r\n      }\r\n      catch (e) {\r\n        throw new Error(\"DayPilot.Date - Unable to parse ISO8601 date/time string: \" + date);\r\n      }\r\n\r\n      isString = true;\r\n    }\r\n    else if (typeof date === \"number\") {\r\n      if (isNaN(date)) {\r\n        throw \"Cannot create DayPilot.Date from NaN\";\r\n      }\r\n      ticks = date;\r\n    }\r\n    else if (date instanceof Date) {\r\n      if (readLocal) {\r\n        ticks = DayPilot.DateUtil.fromLocal(date).getTime();\r\n      }\r\n      else {\r\n        ticks = date.getTime();\r\n      }\r\n    }\r\n    else {\r\n      throw \"Unrecognized parameter: use Date, number or string in ISO 8601 format\";\r\n    }\r\n\r\n    var value = ticksToSortable(ticks); // normalized value\r\n\r\n    if (cache[value]) {\r\n      return cache[value];\r\n    }\r\n\r\n    cache[value] = this;\r\n    cache[ticks] = this;\r\n    if (isString && value !== date  && DayPilot.DateUtil.hasTzSpec(date)) {  // don't cache strings with TZ spec\r\n      cache[date] = this;\r\n    }\r\n\r\n    if (Object.defineProperty) {\r\n      Object.defineProperty(this, \"ticks\", {\r\n        get: function() { return ticks; }\r\n      });\r\n      Object.defineProperty(this, \"value\", {\r\n        \"value\": value,\r\n        \"writable\": false,\r\n        \"enumerable\": true\r\n      });\r\n    }\r\n    else {\r\n      this.ticks = ticks;\r\n      this.value = value;\r\n    }\r\n\r\n    if (DayPilot.Date.Config.legacyShowD) {\r\n      this.d = new Date(ticks);\r\n    }\r\n\r\n  };\r\n\r\n  DayPilot.Date.Config = {};\r\n  DayPilot.Date.Config.legacyShowD = false;\r\n\r\n  DayPilot.Date.Cache = {};\r\n  DayPilot.Date.Cache.Parsing = {};\r\n  DayPilot.Date.Cache.Ctor = {};\r\n  DayPilot.Date.Cache.Ticks = {};\r\n  DayPilot.Date.Cache.DurationCtor = {};\r\n\r\n  DayPilot.Date.Cache.clear = function() {\r\n    DayPilot.Date.Cache.Parsing = {};\r\n    DayPilot.Date.Cache.Ctor = {};\r\n    DayPilot.Date.Cache.Ticks = {};\r\n    DayPilot.Date.Cache.DurationCtor = {};\r\n  };\r\n\r\n\r\n  DayPilot.Date.prototype.addDays = function(days) {\r\n    if (!days) {\r\n      return this;\r\n    }\r\n    return new DayPilot.Date(this.ticks + days * 24 * 60 * 60 * 1000);\r\n  };\r\n\r\n  DayPilot.Date.prototype.addHours = function(hours) {\r\n    if (!hours) {\r\n      return this;\r\n    }\r\n    return this.addTime(hours * 60 * 60 * 1000);\r\n  };\r\n\r\n  DayPilot.Date.prototype.addMilliseconds = function(millis) {\r\n    if (!millis) {\r\n      return this;\r\n    }\r\n    return this.addTime(millis);\r\n  };\r\n\r\n  DayPilot.Date.prototype.addMinutes = function(minutes) {\r\n    if (!minutes) {\r\n      return this;\r\n    }\r\n    return this.addTime(minutes * 60 * 1000);\r\n  };\r\n\r\n  DayPilot.Date.prototype.addMonths = function(months) {\r\n    if (!months) {\r\n      return this;\r\n    }\r\n\r\n    var date = new Date(this.ticks);\r\n\r\n    var y = date.getUTCFullYear();\r\n    var m = date.getUTCMonth() + 1;\r\n\r\n    if (months > 0) {\r\n      while (months >= 12) {\r\n        months -= 12;\r\n        y++;\r\n      }\r\n      if (months > 12 - m) {\r\n        y++;\r\n        m = months - (12 - m);\r\n      }\r\n      else {\r\n        m += months;\r\n      }\r\n    }\r\n    else {\r\n      while (months <= -12) {\r\n        months += 12;\r\n        y--;\r\n      }\r\n      if (m + months <= 0) {  //\r\n        y--;\r\n        m = 12 + m + months;\r\n      }\r\n      else {\r\n        m = m + months;\r\n      }\r\n    }\r\n\r\n    var d = new Date(date.getTime());\r\n    d.setUTCDate(1);\r\n    d.setUTCFullYear(y);\r\n    d.setUTCMonth(m - 1);\r\n\r\n    //var max = DayPilot.Date.daysInMonth(y, m);\r\n    var max = new DayPilot.Date(d).daysInMonth();\r\n    d.setUTCDate(Math.min(max, date.getUTCDate()));\r\n\r\n    return new DayPilot.Date(d);\r\n  };\r\n\r\n  DayPilot.Date.prototype.addSeconds = function(seconds) {\r\n    if (!seconds) {\r\n      return this;\r\n    }\r\n    return this.addTime(seconds * 1000);\r\n  };\r\n\r\n  DayPilot.Date.prototype.addTime = function(ticks) {\r\n    if (!ticks) {\r\n      return this;\r\n    }\r\n    if (ticks instanceof DayPilot.Duration) {\r\n      ticks = ticks.ticks;\r\n    }\r\n    return new DayPilot.Date(this.ticks + ticks);\r\n  };\r\n\r\n  DayPilot.Date.prototype.addYears = function(years) {\r\n    var original = new Date(this.ticks);\r\n    var d = new Date(this.ticks);\r\n    var y = this.getYear() + years;\r\n    var m = this.getMonth();\r\n\r\n    d.setUTCDate(1);\r\n    d.setUTCFullYear(y);\r\n    d.setUTCMonth(m);\r\n\r\n    //var max = DayPilot.Date.daysInMonth(y, m + 1);\r\n    var max = new DayPilot.Date(d).daysInMonth();\r\n    d.setUTCDate(Math.min(max, original.getUTCDate()));\r\n\r\n    return new DayPilot.Date(d);\r\n  };\r\n\r\n  DayPilot.Date.prototype.dayOfWeek = function() {\r\n    return new Date(this.ticks).getUTCDay();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getDayOfWeek = function() {\r\n    return new Date(this.ticks).getUTCDay();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getDayOfYear = function() {\r\n    var first = this.firstDayOfYear();\r\n    return DayPilot.DateUtil.daysDiff(first, this) + 1;\r\n  };\r\n\r\n  DayPilot.Date.prototype.daysInMonth = function() {\r\n    var date = new Date(this.ticks);\r\n    var month = date.getUTCMonth() + 1;\r\n    var year = date.getUTCFullYear();\r\n\r\n\r\n    var m = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n    if (month !== 2)\r\n      return m[month - 1];\r\n    if (year % 4 !== 0)\r\n      return m[1];\r\n    if (year % 100 === 0 && year % 400 !== 0)\r\n      return m[1];\r\n    return m[1] + 1;\r\n\r\n  };\r\n\r\n  DayPilot.Date.prototype.daysInYear = function() {\r\n    var year = this.getYear();\r\n    if (year % 4 !== 0) {\r\n      return 365;\r\n    }\r\n    if (year % 100 === 0 && year % 400 !== 0) {\r\n      return 365;\r\n    }\r\n    return 366;\r\n  };\r\n\r\n  DayPilot.Date.prototype.dayOfYear = function() {\r\n    return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 86400000) + 1;\r\n  };\r\n\r\n  // not required, direct comparison can be used\r\n  DayPilot.Date.prototype.equals = function(another) {\r\n    if (another === null) {\r\n      return false;\r\n    }\r\n    if (another instanceof DayPilot.Date) {\r\n      return this === another;\r\n    }\r\n    else {\r\n      throw \"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())\";\r\n    }\r\n  };\r\n\r\n  DayPilot.Date.prototype.firstDayOfMonth = function() {\r\n    //var utc = DayPilot.Date.firstDayOfMonth(this.getYear(), this.getMonth() + 1);\r\n    //return new DayPilot.Date(utc);\r\n\r\n    var d = new Date();\r\n    d.setUTCFullYear(this.getYear(), this.getMonth(), 1);\r\n    d.setUTCHours(0);\r\n    d.setUTCMinutes(0);\r\n    d.setUTCSeconds(0);\r\n    d.setUTCMilliseconds(0);\r\n    return new DayPilot.Date(d);\r\n\r\n  };\r\n\r\n  DayPilot.Date.prototype.firstDayOfYear = function() {\r\n    var year = this.getYear();\r\n    var d = new Date();\r\n    d.setUTCFullYear(year, 0, 1);\r\n    d.setUTCHours(0);\r\n    d.setUTCMinutes(0);\r\n    d.setUTCSeconds(0);\r\n    d.setUTCMilliseconds(0);\r\n    return new DayPilot.Date(d);\r\n  };\r\n\r\n  DayPilot.Date.prototype.firstDayOfWeek = function(weekStarts) {\r\n    var d = this;\r\n    if (weekStarts instanceof DayPilot.Locale) {\r\n      weekStarts = weekStarts.weekStarts;\r\n    }\r\n    else if (typeof weekStarts === \"string\" && DayPilot.Locale.find(weekStarts)) {\r\n      var locale = DayPilot.Locale.find(weekStarts);\r\n      weekStarts = locale.weekStarts;\r\n    }\r\n    else {\r\n      weekStarts = weekStarts || 0;\r\n    }\r\n\r\n    var day = d.dayOfWeek();\r\n    while (day !== weekStarts) {\r\n      d = d.addDays(-1);\r\n      day = d.dayOfWeek();\r\n    }\r\n    return new DayPilot.Date(d);\r\n  };\r\n\r\n  DayPilot.Date.prototype.getDay = function() {\r\n    return new Date(this.ticks).getUTCDate();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getDatePart = function() {\r\n    var d = new Date(this.ticks);\r\n    d.setUTCHours(0);\r\n    d.setUTCMinutes(0);\r\n    d.setUTCSeconds(0);\r\n    d.setUTCMilliseconds(0);\r\n    return new DayPilot.Date(d);\r\n  };\r\n\r\n  DayPilot.Date.prototype.getYear = function() {\r\n    return new Date(this.ticks).getUTCFullYear();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getHours = function() {\r\n    return new Date(this.ticks).getUTCHours();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getMilliseconds = function() {\r\n    return new Date(this.ticks).getUTCMilliseconds();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getMinutes = function() {\r\n    return new Date(this.ticks).getUTCMinutes();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getMonth = function() {\r\n    return new Date(this.ticks).getUTCMonth();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getSeconds = function() {\r\n    return new Date(this.ticks).getUTCSeconds();\r\n  };\r\n\r\n  DayPilot.Date.prototype.getTotalTicks = function() {\r\n    return this.getTime();\r\n  };\r\n\r\n  // undocumented\r\n  DayPilot.Date.prototype.getTime = function() {\r\n    return this.ticks;\r\n  };\r\n\r\n  DayPilot.Date.prototype.getTimePart = function() {\r\n    var datePart = this.getDatePart();\r\n    return DayPilot.DateUtil.diff(this, datePart);\r\n  };\r\n\r\n  DayPilot.Date.prototype.lastDayOfMonth = function() {\r\n    //var utc = DayPilot.Date.lastDayOfMonth(this.getYear(), this.getMonth() + 1);\r\n    //return new DayPilot.Date(utc);\r\n    var d = new Date(this.firstDayOfMonth().getTime());\r\n    var length = this.daysInMonth();\r\n    d.setUTCDate(length);\r\n    return new DayPilot.Date(d);\r\n  };\r\n\r\n  DayPilot.Date.prototype.weekNumber = function() {\r\n    var first = this.firstDayOfYear();\r\n    var days = (this.getTime() - first.getTime()) / 86400000;\r\n    return Math.ceil((days + first.dayOfWeek() + 1) / 7);\r\n  };\r\n\r\n  // ISO 8601\r\n  DayPilot.Date.prototype.weekNumberISO = function() {\r\n    var thursdayFlag = false;\r\n    var dayOfYear = this.dayOfYear();\r\n\r\n    var startWeekDayOfYear = this.firstDayOfYear().dayOfWeek();\r\n    var endWeekDayOfYear = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();\r\n    //int startWeekDayOfYear = new DateTime(date.getYear(), 1, 1).getDayOfWeekOrdinal();\r\n    //int endWeekDayOfYear = new DateTime(date.getYear(), 12, 31).getDayOfWeekOrdinal();\r\n\r\n    if (startWeekDayOfYear === 0) {\r\n      startWeekDayOfYear = 7;\r\n    }\r\n    if (endWeekDayOfYear === 0) {\r\n      endWeekDayOfYear = 7;\r\n    }\r\n\r\n    var daysInFirstWeek = 8 - (startWeekDayOfYear);\r\n\r\n    if (startWeekDayOfYear === 4 || endWeekDayOfYear === 4) {\r\n      thursdayFlag = true;\r\n    }\r\n\r\n    var fullWeeks = Math.ceil((dayOfYear - (daysInFirstWeek)) / 7.0);\r\n\r\n    var weekNumber = fullWeeks;\r\n\r\n    if (daysInFirstWeek >= 4) {\r\n      weekNumber = weekNumber + 1;\r\n    }\r\n\r\n    if (weekNumber > 52 && !thursdayFlag) {\r\n      weekNumber = 1;\r\n    }\r\n\r\n    if (weekNumber === 0) {\r\n      weekNumber = this.firstDayOfYear().addDays(-1).weekNumberISO(); //weekNrISO8601(new DateTime(date.getYear() - 1, 12, 31));\r\n    }\r\n\r\n    return weekNumber;\r\n\r\n  };\r\n\r\n  DayPilot.Date.prototype.toDateLocal = function() {\r\n    var date = new Date(this.ticks);\r\n\r\n    var d = new Date();\r\n    d.setFullYear(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\r\n    d.setHours(date.getUTCHours());\r\n    d.setMinutes(date.getUTCMinutes());\r\n    d.setSeconds(date.getUTCSeconds());\r\n    d.setMilliseconds(date.getUTCMilliseconds());\r\n    return d;\r\n\r\n  };\r\n\r\n  DayPilot.Date.prototype.toDate = function() {\r\n    return new Date(this.ticks);\r\n  };\r\n\r\n  DayPilot.Date.prototype.toJSON = function() {\r\n    return this.value;\r\n  };\r\n\r\n  // formatting and languages needed here\r\n  DayPilot.Date.prototype.toString = function(pattern, locale) {\r\n    if (!pattern) {\r\n      return this.toStringSortable();\r\n    }\r\n    return new Pattern(pattern, locale).print(this);\r\n  };\r\n\r\n  DayPilot.Date.prototype.toStringSortable = function() {\r\n    return ticksToSortable(this.ticks);\r\n  };\r\n\r\n  function ticksToSortable(ticks) {\r\n\r\n    var cache = DayPilot.Date.Cache.Ticks;\r\n    if (cache[ticks]) {\r\n      return cache[ticks];\r\n    }\r\n\r\n    var d = new Date(ticks);\r\n\r\n    var millisecond;\r\n    var ms = d.getUTCMilliseconds();\r\n\r\n    if (ms === 0) {\r\n      millisecond = \"\";\r\n    }\r\n    else if (ms < 10) {\r\n      millisecond = \".00\" + ms;\r\n    }\r\n    else if (ms < 100) {\r\n      millisecond = \".0\" + ms;\r\n    }\r\n    else {\r\n      millisecond = \".\" + ms\r\n    }\r\n\r\n    var second = d.getUTCSeconds();\r\n    if (second < 10)\r\n      second = \"0\" + second;\r\n    var minute = d.getUTCMinutes();\r\n    if (minute < 10)\r\n      minute = \"0\" + minute;\r\n    var hour = d.getUTCHours();\r\n    if (hour < 10)\r\n      hour = \"0\" + hour;\r\n    var day = d.getUTCDate();\r\n    if (day < 10)\r\n      day = \"0\" + day;\r\n    var month = d.getUTCMonth() + 1;\r\n    if (month < 10)\r\n      month = \"0\" + month;\r\n    var year = d.getUTCFullYear();\r\n\r\n    if (year <= 0) {\r\n      throw \"The minimum year supported is 1.\";\r\n    }\r\n    if (year < 10) {\r\n      year = \"000\" + year;\r\n    }\r\n    else if (year < 100) {\r\n      year = \"00\" + year;\r\n    }\r\n    else if (year < 1000) {\r\n      year = \"0\" + year;\r\n    }\r\n\r\n    var result = year + \"-\" + month + \"-\" + day + 'T' + hour + \":\" + minute + \":\" + second + millisecond;\r\n    cache[ticks] = result;\r\n    return result;\r\n  }\r\n\r\n  /* static functions, return DayPilot.Date object */\r\n\r\n  // returns null if parsing was not successful\r\n  DayPilot.Date.parse = function(str, pattern, locale) {\r\n    var p = new Pattern(pattern, locale);\r\n    return p.parse(str);\r\n  };\r\n\r\n  var todayCount = 0;\r\n\r\n  DayPilot.Date.today = function() {\r\n    //return new DayPilot.Date().getDatePart();\r\n    return new DayPilot.Date(DayPilot.DateUtil.localToday(), true);\r\n  };\r\n\r\n  DayPilot.Date.fromYearMonthDay = function(year, month, day) {\r\n    month = month || 1;\r\n    day = day || 1;\r\n\r\n    var d = new Date(0);\r\n    d.setUTCFullYear(year);\r\n    d.setUTCMonth(month - 1);\r\n    d.setUTCDate(day);\r\n    return new DayPilot.Date(d);\r\n  };\r\n\r\n  var Pattern = function(pattern, locale) {\r\n    if (typeof locale === \"string\") {\r\n      locale = DayPilot.Locale.find(locale);\r\n    }\r\n    var locale = locale || DayPilot.Locale.US;\r\n    var all = [\r\n      {\"seq\": \"yyyy\", \"expr\": \"[0-9]{4,4\\u007d\", \"str\": function(d) {\r\n          return d.getYear();\r\n        }},\r\n      {\"seq\": \"yy\", \"expr\": \"[0-9]{2,2\\u007d\", \"str\": function(d) {\r\n          return d.getYear() % 100;\r\n        }},\r\n      {\"seq\": \"mm\", \"expr\": \"[0-9]{2,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getMinutes();\r\n          return r < 10 ? \"0\" + r : r;\r\n        }},\r\n      {\"seq\": \"m\", \"expr\": \"[0-9]{1,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getMinutes();\r\n          return r;\r\n        }},\r\n      {\"seq\": \"HH\", \"expr\": \"[0-9]{2,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getHours();\r\n          return r < 10 ? \"0\" + r : r;\r\n        }},\r\n      {\"seq\": \"H\", \"expr\": \"[0-9]{1,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getHours();\r\n          return r;\r\n        }},\r\n      {\"seq\": \"hh\", \"expr\": \"[0-9]{2,2\\u007d\", \"str\": function(d) {\r\n          var hour = d.getHours();\r\n          var hour = hour % 12;\r\n          if (hour === 0) {\r\n            hour = 12;\r\n          }\r\n          var r = hour;\r\n          return r < 10 ? \"0\" + r : r;\r\n        }},\r\n      {\"seq\": \"h\", \"expr\": \"[0-9]{1,2\\u007d\", \"str\": function(d) {\r\n          var hour = d.getHours();\r\n          var hour = hour % 12;\r\n          if (hour === 0) {\r\n            hour = 12;\r\n          }\r\n          return hour;\r\n        }},\r\n      {\"seq\": \"ss\", \"expr\": \"[0-9]{2,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getSeconds();\r\n          return r < 10 ? \"0\" + r : r;\r\n        }},\r\n      {\"seq\": \"s\", \"expr\": \"[0-9]{1,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getSeconds();\r\n          return r;\r\n        }},\r\n      {\"seq\": \"MMMM\", \"expr\": \"[^\\\\s0-9]*\", \"str\": function(d) {\r\n          var r = locale.monthNames[d.getMonth()];\r\n          return r;\r\n        }, \"transform\" : function(input) {\r\n          var index = indexOf(locale.monthNames, input, equalsIgnoreCase);\r\n          if (index < 0) {\r\n            return null;\r\n          }\r\n          return index + 1;\r\n        }},\r\n      {\"seq\": \"MMM\", \"expr\": \"[^\\\\s0-9]*\", \"str\": function(d) {  // \\u0073 = 's'\r\n          var r = locale.monthNamesShort[d.getMonth()];\r\n          return r;\r\n        }, \"transform\" : function(input) {\r\n          var index = indexOf(locale.monthNamesShort, input, equalsIgnoreCase);\r\n          if (index < 0) {\r\n            return null;\r\n          }\r\n          return index + 1;\r\n        }},\r\n      {\"seq\": \"MM\", \"expr\": \"[0-9]{2,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getMonth() + 1;\r\n          return r < 10 ? \"0\" + r : r;\r\n        }},\r\n      {\"seq\": \"M\", \"expr\": \"[0-9]{1,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getMonth() + 1;\r\n          return r;\r\n        }},\r\n      {\"seq\": \"dddd\", \"expr\": \"[^\\\\s0-9]*\", \"str\": function(d) {\r\n          var r = locale.dayNames[d.getDayOfWeek()];\r\n          return r;\r\n        }},\r\n      {\"seq\": \"ddd\", \"expr\": \"[^\\\\s0-9]*\", \"str\": function(d) {\r\n          var r = locale.dayNamesShort[d.getDayOfWeek()];\r\n          return r;\r\n        }},\r\n      {\"seq\": \"dd\", \"expr\": \"[0-9]{2,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getDay();\r\n          return r < 10 ? \"0\" + r : r;\r\n        }},\r\n      {\"seq\": \"%d\", \"expr\": \"[0-9]{1,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getDay();\r\n          return r;\r\n        }},\r\n      {\"seq\": \"d\", \"expr\": \"[0-9]{1,2\\u007d\", \"str\": function(d) {\r\n          var r = d.getDay();\r\n          return r;\r\n        }},\r\n      {\"seq\": \"tt\", \"expr\": \"(AM|PM|am|pm)\", \"str\": function(d) {\r\n          var hour = d.getHours();\r\n          var am = hour < 12;\r\n          return am ? \"AM\" : \"PM\";\r\n        }, \"transform\" : function(input) {\r\n          return input.toUpperCase();\r\n        }},\r\n    ];\r\n\r\n    var escapeRegex = function(text) {\r\n      return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\r\n    };\r\n\r\n    this.init = function() {\r\n      this.year = this.findSequence(\"yyyy\");\r\n      this.month = this.findSequence(\"MMMM\") || this.findSequence(\"MMM\") || this.findSequence(\"MM\") || this.findSequence(\"M\");\r\n      this.day = this.findSequence(\"dd\") || this.findSequence(\"d\");\r\n\r\n      this.hours = this.findSequence(\"HH\") || this.findSequence(\"H\");\r\n      this.minutes = this.findSequence(\"mm\") || this.findSequence(\"m\");\r\n      this.seconds = this.findSequence(\"ss\") || this.findSequence(\"s\");\r\n\r\n      this.ampm = this.findSequence(\"tt\");\r\n      this.hours12 = this.findSequence(\"hh\") || this.findSequence(\"h\");\r\n\r\n      /*if (this.hours && this.ampm) {\r\n          throw new DayPilot.Exception(\"'HH' and 'H' specifiers cannot be used in combination with 'tt'. Use 12-hour clock specifiers: 'hh' or 'h'.\");\r\n      }*/\r\n    };\r\n\r\n    this.findSequence = function(seq) {\r\n\r\n      function defaultTransform(value) {\r\n        return parseInt(value);\r\n      }\r\n\r\n      var index = pattern.indexOf(seq);\r\n      if (index === -1) {\r\n        return null;\r\n      }\r\n      return {\r\n        \"findValue\": function(input) {\r\n          var prepared = escapeRegex(pattern);\r\n          var transform = null;\r\n          for (var i = 0; i < all.length; i++) {\r\n            var len = all[i].length;\r\n            var pick = (seq === all[i].seq);\r\n            //var expr = \"\";\r\n            var expr = all[i].expr;\r\n            if (pick) {\r\n              expr = \"(\" + expr + \")\";\r\n              transform = all[i].transform;\r\n            }\r\n            prepared = prepared.replace(all[i].seq, expr);\r\n          }\r\n\r\n          prepared = \"^\" + prepared + \"$\";\r\n\r\n          try {\r\n            var r = new RegExp(prepared);\r\n            var array = r.exec(input);\r\n            if (!array) {\r\n              return null;\r\n            }\r\n            transform = transform || defaultTransform;  // parseInt is the default transform/parse function\r\n            return transform(array[1]);\r\n          }\r\n          catch (e) {\r\n            throw \"unable to create regex from: \" + prepared;\r\n          }\r\n        }\r\n      };\r\n    };\r\n\r\n    this.print = function(date) {\r\n      // always recompiles the pattern\r\n\r\n      var find = function(t) {\r\n        for (var i = 0; i < all.length; i++) {\r\n          if (all[i] && all[i].seq === t) {\r\n            return all[i];\r\n          }\r\n        }\r\n        return null;\r\n      };\r\n\r\n      var eos = pattern.length <= 0;\r\n      var pos = 0;\r\n      var components = [];\r\n\r\n      while (!eos) {\r\n        var rem = pattern.substring(pos);\r\n        var matches = /%?(.)\\1*/.exec(rem);  // matches a sequence of identical characters, with an optional '%' preceding char\r\n        if (matches && matches.length > 0) {\r\n          var match = matches[0];\r\n          var q = find(match);\r\n          if (q) {\r\n            components.push(q);\r\n          }\r\n          else {\r\n            components.push(match);\r\n          }\r\n          pos += match.length;\r\n          eos = pattern.length <= pos;\r\n        }\r\n        else {\r\n          eos = true;\r\n        }\r\n      }\r\n\r\n      // resolve placeholders\r\n      for (var i = 0; i < components.length; i++) {\r\n        var c = components[i];\r\n        if (typeof c !== 'string') {\r\n          components[i] = c.str(date);\r\n        }\r\n      }\r\n\r\n      return components.join(\"\");\r\n    };\r\n\r\n\r\n\r\n    this.parse = function(input) {\r\n\r\n      var year = this.year.findValue(input);\r\n      if (!year) {\r\n        return null; // unparseable\r\n      }\r\n\r\n      var month = this.month.findValue(input);\r\n      if (isNullOrUndefined(month)) {\r\n        return null;\r\n      }\r\n      if (month > 12 || month < 1) {\r\n        return null;\r\n      }\r\n      var day = this.day.findValue(input);\r\n\r\n      var daysInMonth = DayPilot.Date.fromYearMonthDay(year, month).daysInMonth();\r\n      if (day < 1 || day > daysInMonth) {\r\n        return null;\r\n      }\r\n\r\n      var hours = this.hours ? this.hours.findValue(input) : 0;\r\n      var minutes = this.minutes ? this.minutes.findValue(input) : 0;\r\n      var seconds = this.seconds ? this.seconds.findValue(input) : 0;\r\n\r\n      var ampm = this.ampm ? this.ampm.findValue(input): null;\r\n\r\n      if (this.ampm && this.hours12) {\r\n\r\n        var hours12 = this.hours12.findValue(input);\r\n\r\n        if (hours12 < 1 || hours12 > 12) {\r\n          return null;\r\n        }\r\n\r\n        if (ampm === \"PM\") {\r\n          if (hours12 === 12) {\r\n            hours = 12;\r\n          }\r\n          else {\r\n            hours = hours12 + 12;\r\n          }\r\n        }\r\n        else {\r\n          if (hours12 === 12) {\r\n            hours = 0;\r\n          }\r\n          else {\r\n            hours = hours12;\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      if (hours < 0 || hours > 23) {\r\n        return null;\r\n      }\r\n\r\n      if (minutes < 0 || minutes > 59) {\r\n        return null;\r\n      }\r\n\r\n      if (seconds < 0 || seconds > 59) {\r\n        return null;\r\n      }\r\n\r\n      var d = new Date();\r\n      d.setUTCFullYear(year, month - 1, day);\r\n      d.setUTCHours(hours);\r\n      d.setUTCMinutes(minutes);\r\n      d.setUTCSeconds(seconds);\r\n      d.setUTCMilliseconds(0);\r\n\r\n      return new DayPilot.Date(d);\r\n    };\r\n\r\n    this.init();\r\n\r\n  };\r\n\r\n  function equalsIgnoreCase(str1, str2) {\r\n    if (isNullOrUndefined(str1)) {\r\n      return false;\r\n    }\r\n    if (isNullOrUndefined(str2)) {\r\n      return false;\r\n    }\r\n    return str1.toLocaleLowerCase() === str2.toLocaleLowerCase();\r\n  }\r\n\r\n  function indexOf(array, object, equalsFunction) {\r\n    if (!array || !array.length) {\r\n      return -1;\r\n    }\r\n    for (var i = 0; i < array.length; i++) {\r\n      if (equalsFunction) {\r\n        if (equalsFunction(array[i], object)) {\r\n          return i;\r\n        }\r\n      }\r\n      else if (array[i] === object) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n\r\n\r\n  DayPilot.DateUtil = {};\r\n\r\n  /* internal functions, all operate with GMT base of the date object\r\n   (except of DayPilot.DateUtil.fromLocal()) */\r\n\r\n  DayPilot.DateUtil.fromStringSortable = function(string, readLocal) {\r\n    /*\r\n    Supported formats:\r\n    2015-01-01\r\n    2015-01-01T00:00:00\r\n    2015-01-01T00:00:00.000\r\n    2015-01-01T00:00:00Z\r\n    2015-01-01T00:00:00.000Z\r\n    2015-01-01T00:00:00+01:00\r\n    2015-01-01T00:00:00.000+01:00\r\n\r\n     */\r\n\r\n    if (!string) {\r\n      throw \"Can't create DayPilot.Date from an empty string\";\r\n    }\r\n\r\n    var len = string.length;\r\n    var date = len === 10;\r\n    var datetime = len === 19;\r\n    var long = len > 19;\r\n\r\n    if (!date && !datetime && !long) {\r\n      throw \"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): \" + string;\r\n    }\r\n\r\n    if (DayPilot.Date.Cache.Parsing[string] && !readLocal) {\r\n      return DayPilot.Date.Cache.Parsing[string];\r\n    }\r\n\r\n    var year = string.substring(0, 4);\r\n    var month = string.substring(5, 7);\r\n    var day = string.substring(8, 10);\r\n\r\n    var d = new Date(0);\r\n    d.setUTCFullYear(year, month - 1, day);\r\n\r\n    if (date) {\r\n      /*\r\n      d.setUTCHours(0);\r\n      d.setUTCMinutes(0);\r\n      d.setUTCSeconds(0);\r\n      d.setUTCMilliseconds(0);\r\n      */\r\n      //result = d;\r\n      DayPilot.Date.Cache.Parsing[string] = d;\r\n      return d;\r\n    }\r\n\r\n    var hours = string.substring(11, 13);\r\n    var minutes = string.substring(14, 16);\r\n    var seconds = string.substring(17, 19);\r\n\r\n    d.setUTCHours(hours);\r\n    d.setUTCMinutes(minutes);\r\n    d.setUTCSeconds(seconds);\r\n    //d.setUTCMilliseconds(0);\r\n    //result = d;\r\n\r\n    if (datetime) {\r\n      DayPilot.Date.Cache.Parsing[string] = d;\r\n      return d;\r\n    }\r\n\r\n    var tzdir = string[19];\r\n\r\n    var tzoffset = 0;\r\n\r\n    if (tzdir === \".\") {\r\n      var ms = parseInt(string.substring(20, 23)); /// .000\r\n      d.setUTCMilliseconds(ms);\r\n      tzoffset = DayPilot.DateUtil.getTzOffsetMinutes(string.substring(23));\r\n    }\r\n    else {\r\n      tzoffset = DayPilot.DateUtil.getTzOffsetMinutes(string.substring(19));\r\n    }\r\n\r\n    var dd = new DayPilot.Date(d);\r\n    if (!readLocal) {\r\n      dd = dd.addMinutes(-tzoffset);\r\n    }\r\n\r\n    d = dd.toDate(); // get UTC base\r\n\r\n    DayPilot.Date.Cache.Parsing[string] = d;\r\n    return d;\r\n  };\r\n\r\n  DayPilot.DateUtil.getTzOffsetMinutes = function(string) {\r\n    if (isNullOrUndefined(string) || string === \"\") {\r\n      return 0;\r\n    }\r\n    if (string === \"Z\") {\r\n      return 0;\r\n    }\r\n\r\n    var tzdir = string[0];\r\n\r\n    var tzhours = parseInt(string.substring(1, 3));\r\n    var tzminutes = parseInt(string.substring(4));\r\n    var tzoffset = tzhours * 60 + tzminutes;\r\n\r\n    if (tzdir === \"-\") {\r\n      return -tzoffset;\r\n    }\r\n    else if (tzdir === \"+\") {\r\n      return tzoffset;\r\n    }\r\n    else {\r\n      throw \"Invalid timezone spec: \" + string;\r\n    }\r\n  };\r\n\r\n  DayPilot.DateUtil.hasTzSpec = function(string) {\r\n    if (string.indexOf(\"+\")) {\r\n      return true;\r\n    }\r\n    if (string.indexOf(\"-\")) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  // rename candidate: diffDays\r\n  DayPilot.DateUtil.daysDiff = function(first, second) {\r\n    (first && second) || (function() { throw \"two parameters required\"; })();\r\n\r\n    first = new DayPilot.Date(first);\r\n    second = new DayPilot.Date(second);\r\n\r\n    if (first.getTime() > second.getTime()) {\r\n      return null;\r\n    }\r\n\r\n    var i = 0;\r\n    var fDay = first.getDatePart();\r\n    var sDay = second.getDatePart();\r\n\r\n    while (fDay < sDay) {\r\n      fDay = fDay.addDays(1);\r\n      i++;\r\n    }\r\n\r\n    return i;\r\n  };\r\n\r\n  DayPilot.DateUtil.daysSpan = function(first, second) {\r\n    (first && second) || (function() { throw \"two parameters required\"; })();\r\n\r\n    first = new DayPilot.Date(first);\r\n    second = new DayPilot.Date(second);\r\n\r\n    if (first === second) {\r\n      return 0;\r\n    }\r\n\r\n    var diff = DayPilot.DateUtil.daysDiff(first, second);\r\n\r\n    if (second == second.getDatePart()) {\r\n      diff--;\r\n    }\r\n\r\n    return diff;\r\n  };\r\n\r\n  DayPilot.DateUtil.diff = function(first, second) { // = first - second\r\n    if (!(first && second && first.getTime && second.getTime)) {\r\n      throw \"Both compared objects must be Date objects (DayPilot.Date.diff).\";\r\n    }\r\n\r\n    return first.getTime() - second.getTime();\r\n  };\r\n\r\n  // returns Date object\r\n  DayPilot.DateUtil.fromLocal = function(localDate) {\r\n    if (!localDate) {\r\n      localDate = new Date();\r\n    }\r\n\r\n    var d = new Date();\r\n    d.setUTCFullYear(localDate.getFullYear(), localDate.getMonth(), localDate.getDate());\r\n    d.setUTCHours(localDate.getHours());\r\n    d.setUTCMinutes(localDate.getMinutes());\r\n    d.setUTCSeconds(localDate.getSeconds());\r\n    d.setUTCMilliseconds(localDate.getMilliseconds());\r\n    return d;\r\n  };\r\n\r\n  DayPilot.DateUtil.localToday = function() {\r\n    var d = new Date();\r\n    d.setHours(0);\r\n    d.setMinutes(0);\r\n    d.setSeconds(0);\r\n    d.setMilliseconds(0);\r\n    return d;\r\n  };\r\n\r\n  // rename candidate: toHourString\r\n  DayPilot.DateUtil.hours = function(date, use12) {\r\n\r\n    var minute = date.getUTCMinutes();\r\n    if (minute < 10)\r\n      minute = \"0\" + minute;\r\n\r\n\r\n    var hour = date.getUTCHours();\r\n    //if (hour < 10) hour = \"0\" + hour;\r\n\r\n    if (use12) {\r\n      var am = hour < 12;\r\n      var hour = hour % 12;\r\n      if (hour === 0) {\r\n        hour = 12;\r\n      }\r\n      var suffix = am ? \"AM\" : \"PM\";\r\n      return hour + ':' + minute + ' ' + suffix;\r\n    }\r\n    else {\r\n      return hour + ':' + minute;\r\n    }\r\n  };\r\n\r\n  DayPilot.DateUtil.max = function(first, second) {\r\n    if (first.getTime() > second.getTime()) {\r\n      return first;\r\n    }\r\n    else {\r\n      return second;\r\n    }\r\n  };\r\n\r\n  DayPilot.DateUtil.min = function(first, second) {\r\n    if (first.getTime() < second.getTime()) {\r\n      return first;\r\n    }\r\n    else {\r\n      return second;\r\n    }\r\n  };\r\n\r\n})(local);\r\n\r\nconst DayPilotDate = local.Date;\r\nconst DateUtil = local.DateUtil;\r\n\r\nexport {DayPilotDate as Date, DateUtil};\r\n", "/*\r\nCopyright (c) 2010 - 2020 Annpoint, s.r.o.\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\nhttp://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\n-------------------------------------------------------------------------\r\n\r\nNOTE: Requires the following acknowledgement (see also NOTICE):\r\n\r\nThis product includes DayPilot Modal (https://modal.daypilot.org).\r\n\r\n*/\r\n\r\nimport {Date, DateUtil} from \"./date\";\r\nimport {Locale} from \"./locale\";\r\n\r\nvar local = {\r\n  Date: Date,\r\n  DateUtil,\r\n  Locale\r\n};\r\n\r\n(function(DayPilot) {\r\n\r\n  DayPilot.Navigator = function(id) {\r\n    this.v = '${v}';\r\n    var calendar = this;\r\n    this.id = id;\r\n    this.api = 2;\r\n    this.isNavigator = true;\r\n\r\n    this.angularAutoApply = true;\r\n    this.weekStarts = 'Auto'; // 0 = Sunday, 1 = Monday, ... 'Auto' = according to locale\r\n    this.selectMode = 'day'; // day/week/month/none\r\n    this.titleHeight = 30;\r\n    this.dayHeaderHeight = 30;\r\n    this.cellWidth = 30;\r\n    this.cellHeight = 30;\r\n    this._cssOnly = true;\r\n    this.selectionStart = null;  // today\r\n    this.selectionEnd = null;\r\n    this.selectionDay = new DayPilot.Date().getDatePart();\r\n    this.showMonths = 1;\r\n    this.skipMonths = 1;\r\n    this.command = \"navigate\";\r\n    this.year = new DayPilot.Date().getYear();\r\n    this.month = new DayPilot.Date().getMonth() + 1;\r\n    this.locale = \"en-us\";\r\n    this.theme = \"navigator_default\";\r\n\r\n    this.timeRangeSelectedHandling = \"Bind\";\r\n\r\n    this.onTimeRangeSelect = null;\r\n    this.onTimeRangeSelected = null;\r\n\r\n    this.nav = {};\r\n\r\n    this._prepare = function() {\r\n\r\n      this.root.dp = this;\r\n\r\n      if (this._cssOnly) {\r\n        this.root.className = this._prefixCssClass('_main');\r\n      }\r\n      else {\r\n        this.root.className = this._prefixCssClass('main');\r\n      }\r\n\r\n      this.root.style.width = (this.cellWidth * 7) + 'px';\r\n      this.root.style.position = \"relative\";\r\n\r\n      var vsph = document.createElement(\"input\");\r\n      vsph.type = 'hidden';\r\n      vsph.name = calendar.id + \"_state\";\r\n      vsph.id = vsph.name;\r\n      this.root.appendChild(vsph);\r\n      this.state = vsph;\r\n\r\n      if (!this.startDate) {\r\n        this.startDate = new DayPilot.Date(DayPilot.Date.fromYearMonthDay(this.year, this.month));\r\n      }\r\n      else { // make sure it's the first day\r\n        this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth();\r\n      }\r\n\r\n      this.calendars = [];\r\n      this.selected = [];\r\n      this.months = [];\r\n    };\r\n\r\n    this._api2 = function() {\r\n      return calendar.api === 2;\r\n    };\r\n\r\n    this._clearTable = function() {\r\n      this.root.innerHTML = '';\r\n    };\r\n\r\n    this._prefixCssClass = function(part) {\r\n      var prefix = this.theme || this.cssClassPrefix;\r\n      if (prefix) {\r\n        return prefix + part;\r\n      }\r\n      else {\r\n        return \"\";\r\n      }\r\n    };\r\n\r\n    this._addClass = function(object, name) {\r\n      var fullName = this._cssOnly ? this._prefixCssClass(\"_\" + name) : this._prefixCssClass(name);\r\n      addClass(object, fullName);\r\n    };\r\n\r\n    this._removeClass = function(object, name) {\r\n      var fullName = this._cssOnly ? this._prefixCssClass(\"_\" + name) : this._prefixCssClass(name);\r\n      removeClass(object, fullName);\r\n    };\r\n\r\n    this._drawTable = function(j, showLinks) {\r\n      var month = {};\r\n      month.cells = [];\r\n      month.days = [];\r\n      month.weeks = [];\r\n\r\n      var startDate = this.startDate.addMonths(j);\r\n\r\n      var showBefore = showLinks.before;\r\n      var showAfter = showLinks.after;\r\n\r\n      var firstOfMonth = startDate.firstDayOfMonth();\r\n      var first = firstOfMonth.firstDayOfWeek(resolved.weekStarts());\r\n\r\n      var last = firstOfMonth.addMonths(1);\r\n      var days = DayPilot.DateUtil.daysDiff(first, last);\r\n\r\n      var rowCount = 6;\r\n      month._rowCount = rowCount;\r\n      var today = (new DayPilot.Date()).getDatePart();\r\n\r\n      var width = this.cellWidth * 7;\r\n      var height = this.cellHeight * rowCount + this.titleHeight + this.dayHeaderHeight;\r\n      month.height = height;\r\n\r\n      var main = document.createElement(\"div\");\r\n      main.style.width = (width) + 'px';\r\n      main.style.height = (height) + 'px';\r\n      main.style.position = 'relative';\r\n      if (this._cssOnly) {\r\n        main.className = this._prefixCssClass('_month');\r\n      }\r\n      else {\r\n        main.className = this._prefixCssClass('month');\r\n      }\r\n\r\n      main.style.cursor = 'default';\r\n      main.style.MozUserSelect = 'none';\r\n      main.style.KhtmlUserSelect = 'none';\r\n      main.style.WebkitUserSelect = 'none';\r\n\r\n      main.month = month;\r\n\r\n      this.root.appendChild(main);\r\n\r\n      var totalHeaderHeight = this.titleHeight + this.dayHeaderHeight;\r\n\r\n      // title left\r\n      var tl = document.createElement(\"div\");\r\n      tl.style.position = 'absolute';\r\n      tl.style.left = '0px';\r\n      tl.style.top = '0px';\r\n      tl.style.width = this.cellWidth + 'px';\r\n      tl.style.height = this.titleHeight + 'px';\r\n      tl.style.lineHeight = this.titleHeight + 'px';\r\n      //tl.style.textAlign = 'left';\r\n      tl.setAttribute(\"unselectable\", \"on\");\r\n      if (this._cssOnly) {\r\n        tl.className = this._prefixCssClass('_titleleft');\r\n      }\r\n      else {\r\n        tl.className = this._prefixCssClass('titleleft');\r\n      }\r\n      if (showLinks.left) {\r\n        tl.style.cursor = 'pointer';\r\n        tl.innerHTML = \"<span>&lt;</span>\";\r\n        tl.onclick = this._clickLeft;\r\n      }\r\n      main.appendChild(tl);\r\n      this.tl = tl;\r\n\r\n      // title center\r\n      var ti = document.createElement(\"div\");\r\n      ti.style.position = 'absolute';\r\n      ti.style.left = this.cellWidth + 'px';\r\n      ti.style.top = '0px';\r\n      ti.style.width = (this.cellWidth * 5) + 'px';\r\n      ti.style.height = this.titleHeight + 'px';\r\n      ti.style.lineHeight = this.titleHeight + 'px';\r\n      ti.style.textAlign = 'center';\r\n      ti.setAttribute(\"unselectable\", \"on\");\r\n      if (this._cssOnly) {\r\n        ti.className = this._prefixCssClass('_title');\r\n      }\r\n      else {\r\n        ti.className = this._prefixCssClass('title');\r\n      }\r\n      ti.innerHTML = resolved.locale().monthNames[startDate.getMonth()] + ' ' + startDate.getYear();\r\n      main.appendChild(ti);\r\n      this.ti = ti;\r\n\r\n      // title right\r\n      var tr = document.createElement(\"div\");\r\n      tr.style.position = 'absolute';\r\n      tr.style.left = (this.cellWidth * 6) + 'px';\r\n      tr.style.top = '0px';\r\n      tr.style.width = this.cellWidth + 'px';\r\n      tr.style.height = this.titleHeight + 'px';\r\n      tr.style.lineHeight = this.titleHeight + 'px';\r\n      //tr.style.textAlign = 'right';\r\n      tr.setAttribute(\"unselectable\", \"on\");\r\n      if (this._cssOnly) {\r\n        tr.className = this._prefixCssClass('_titleright');\r\n      }\r\n      else {\r\n        tr.className = this._prefixCssClass('titleright');\r\n      }\r\n      if (showLinks.right) {\r\n        tr.style.cursor = 'pointer';\r\n        tr.innerHTML = \"<span>&gt;</span>\";\r\n        tr.onclick = this._clickRight;\r\n      }\r\n      main.appendChild(tr);\r\n      this.tr = tr;\r\n\r\n      for (var x = 0; x < 7; x++) {\r\n        month.cells[x] = [];\r\n\r\n        // day header\r\n        var dh = document.createElement(\"div\");\r\n        dh.style.position = 'absolute';\r\n        dh.style.left = (x * this.cellWidth) + 'px';\r\n        dh.style.top = this.titleHeight + 'px';\r\n        dh.style.width = this.cellWidth + 'px';\r\n        dh.style.height = this.dayHeaderHeight + 'px';\r\n        dh.style.lineHeight = this.dayHeaderHeight + 'px';\r\n        //dh.style.textAlign = 'right';\r\n        dh.setAttribute(\"unselectable\", \"on\");\r\n        if (this._cssOnly) {\r\n          dh.className = this._prefixCssClass('_dayheader');\r\n        }\r\n        else {\r\n          dh.className = this._prefixCssClass('dayheader');\r\n        }\r\n        //dh.innerHTML = \"<span style='margin-right: 2px'>\" + this._getDayName(x) + \"</span>\";\r\n        dh.innerHTML = \"<span>\" + this._getDayName(x) + \"</span>\";\r\n        main.appendChild(dh);\r\n        month.days.push(dh);\r\n\r\n        for (var y = 0; y < rowCount; y++) {\r\n          var day = first.addDays(y * 7 + x);\r\n\r\n          var isSelected = this._isSelected(day) && this._selectModeLowerCase() !== 'none';\r\n\r\n          var isCurrentMonth = day.getMonth() === startDate.getMonth();\r\n          var isPrevMonth = day.getTime() < startDate.getTime();\r\n          //var isNextMonth = day.getYear() > startDate.getYear() || (day.getYear() == startDate.getYear() && day.getMonth() > startDate.getMonth());\r\n          var isNextMonth = day.getTime() > startDate.getTime();\r\n\r\n          var dayClass;\r\n\r\n          var dc = document.createElement(\"div\");\r\n          month.cells[x][y] = dc;\r\n\r\n          dc.day = day;\r\n          dc.x = x;\r\n          dc.y = y;\r\n          dc.isCurrentMonth = isCurrentMonth;\r\n\r\n          if (this._cssOnly) {\r\n            dc.className = this._prefixCssClass((isCurrentMonth ? '_day' : '_dayother'));\r\n          }\r\n          else {\r\n            dc.className = this._prefixCssClass((isCurrentMonth ? 'day' : 'dayother'));\r\n          }\r\n          calendar._addClass(dc, \"cell\");\r\n          if (day.getTime() === today.getTime() && isCurrentMonth) {\r\n            this._addClass(dc, 'today');\r\n          }\r\n          if (day.dayOfWeek() === 0 || day.dayOfWeek() === 6) {\r\n            this._addClass(dc, 'weekend');\r\n          }\r\n\r\n          dc.style.position = 'absolute';\r\n          dc.style.left = (x * this.cellWidth) + 'px';\r\n          dc.style.top = (y * this.cellHeight + totalHeaderHeight) + 'px';\r\n          dc.style.width = this.cellWidth + 'px';\r\n          dc.style.height = this.cellHeight + 'px';\r\n          dc.style.lineHeight = this.cellHeight + 'px'; // vertical alignment\r\n          //dc.style.textAlign = 'right';\r\n          //dc.style.border = '1px solid white';\r\n\r\n          var inner = document.createElement(\"div\");\r\n          inner.style.position = 'absolute';\r\n          if (this._cssOnly) {\r\n            inner.className = (day.getTime() === today.getTime() && isCurrentMonth) ? this._prefixCssClass('_todaybox') : this._prefixCssClass('_daybox');\r\n          }\r\n          else {\r\n            inner.className = (day.getTime() === today.getTime() && isCurrentMonth) ? this._prefixCssClass('todaybox') : this._prefixCssClass('daybox');\r\n          }\r\n          calendar._addClass(inner, \"cell_box\");\r\n          inner.style.left = '0px';\r\n          inner.style.top = '0px';\r\n          inner.style.right = '0px';\r\n          inner.style.bottom = '0px';\r\n          // inner.style.width = (this.cellWidth - 2) + 'px';\r\n          // inner.style.height = (this.cellHeight - 2) + 'px';\r\n          dc.appendChild(inner);\r\n\r\n\r\n          var cell = null;\r\n          if (this.cells && this.cells[day.toStringSortable()]) {\r\n            cell = this.cells[day.toStringSortable()];\r\n            if (cell.css) {\r\n              this._addClass(dc, cell.css);\r\n            }\r\n          }\r\n\r\n          //var span = null;\r\n          if (isCurrentMonth || (showBefore && isPrevMonth) || (showAfter && isNextMonth)) {\r\n            var text = document.createElement(\"div\");\r\n            text.innerHTML = day.getDay();\r\n            text.style.position = \"absolute\";\r\n            text.style.left = '0px';\r\n            text.style.top = '0px';\r\n            text.style.right = '0px';\r\n            text.style.bottom = '0px';\r\n            calendar._addClass(text, \"cell_text\");\r\n\r\n            dc.style.cursor = 'pointer';\r\n            dc.isClickable = true;\r\n\r\n            if (cell && cell.html) {\r\n              text.innerHTML = cell.html;\r\n            }\r\n\r\n            dc.appendChild(text);\r\n          }\r\n\r\n          dc.setAttribute(\"unselectable\", \"on\");\r\n\r\n          dc.onclick = this._cellClick;\r\n          dc.onmousedown = this._cellMouseDown;\r\n          dc.onmousemove = this._cellMouseMove;\r\n\r\n          if (isSelected) {\r\n            calendar._cellSelect(main, x, y);\r\n            this.selected.push(dc);\r\n          }\r\n\r\n          main.appendChild(dc);\r\n\r\n\r\n        }\r\n      }\r\n\r\n      var line = document.createElement(\"div\");\r\n      line.style.position = 'absolute';\r\n      line.style.left = '0px';\r\n      line.style.top = (totalHeaderHeight - 2) + 'px';\r\n      line.style.width = (this.cellWidth * 7) + 'px';\r\n      line.style.height = '1px';\r\n      line.style.fontSize = '1px';\r\n      line.style.lineHeight = '1px';\r\n      if (this._cssOnly) {\r\n        line.className = this._prefixCssClass(\"_line\");\r\n      }\r\n      else {\r\n        line.className = this._prefixCssClass(\"line\");\r\n      }\r\n      //line.style.borderBottom = '1px solid black';\r\n\r\n      main.appendChild(line);\r\n      this.months.push(month);\r\n    };\r\n\r\n    this._cellSelect = function(main, x, y) {\r\n      var div = main.month.cells[x][y];\r\n      calendar._addClass(div, 'select');\r\n    };\r\n\r\n    this._selectModeLowerCase = function() {\r\n      var selectMode = this.selectMode || \"\";\r\n      return selectMode.toLowerCase();\r\n    };\r\n\r\n    this._adjustSelection = function() {\r\n      // ignores selectionEnd\r\n      // uses selectMode\r\n      var selectMode = calendar._selectModeLowerCase();\r\n\r\n      switch (selectMode) {\r\n        case 'day':\r\n          this.selectionStart = this.selectionDay;\r\n          this.selectionEnd = this.selectionStart;\r\n          break;\r\n        case 'week':\r\n          this.selectionStart = this.selectionDay.firstDayOfWeek(resolved.weekStarts());\r\n          this.selectionEnd = this.selectionStart.addDays(6);\r\n          break;\r\n        case 'month':\r\n          this.selectionStart = this.selectionDay.firstDayOfMonth();\r\n          this.selectionEnd = this.selectionDay.lastDayOfMonth();\r\n          break;\r\n        case 'none':\r\n          this.selectionStart = this.selectionDay;\r\n          this.selectionEnd = this.selectionStart;\r\n          break;\r\n        default:\r\n          throw \"Unknown selectMode value.\";\r\n      }\r\n\r\n    };\r\n\r\n    this.select = function(date, options) {\r\n      var focus = true;\r\n      var notify = true;  // fire the timeRangeSelected event\r\n\r\n      if (typeof options === \"object\") {\r\n        if (options.dontFocus) {\r\n          focus = false;\r\n        }\r\n        if (options.dontNotify) {\r\n          notify = false;\r\n        }\r\n      }\r\n      else if (typeof options === \"boolean\") {\r\n        focus = !options;\r\n      }\r\n\r\n      var originalStart = this.selectionStart;\r\n      var originalEnd = this.selectionEnd;\r\n\r\n      this.selectionStart = new DayPilot.Date(date).getDatePart();\r\n      this.selectionDay = this.selectionStart;\r\n\r\n      var startChanged = false;\r\n      if (focus) {\r\n\r\n        var newStart = this.startDate;\r\n        if (this.selectionStart.getTime() < this.visibleStart().getTime() || this.selectionStart.getTime() > this.visibleEnd().getTime()) {\r\n          newStart = this.selectionStart.firstDayOfMonth();\r\n        }\r\n\r\n        if (newStart.toStringSortable() !== this.startDate.toStringSortable()) {\r\n          startChanged = true;\r\n        }\r\n\r\n        this.startDate = newStart;\r\n      }\r\n\r\n      this._adjustSelection();\r\n\r\n      // redraw\r\n      this._clearTable();\r\n      this._prepare();\r\n      this._drawMonths();\r\n\r\n      if (notify && (!originalStart.equals(this.selectionStart) || !originalEnd.equals(this.selectionEnd))) {\r\n        //alert('time range');\r\n        this._timeRangeSelectedDispatch();\r\n      }\r\n\r\n    };\r\n\r\n    this.update = function() {\r\n\r\n      this._resetCssOnly();\r\n      this._adjustSelection();\r\n\r\n      // redraw\r\n      this._clearTable();\r\n      this._prepare();\r\n      this._drawMonths();\r\n\r\n    };\r\n\r\n    this._getDayName = function(i) {\r\n      var x = i + resolved.weekStarts();\r\n      if (x > 6) {\r\n        x -= 7;\r\n      }\r\n      return resolved.locale().dayNamesShort[x];\r\n\r\n    };\r\n\r\n    this._isSelected = function(date) {\r\n      if (this.selectionStart === null || this.selectionEnd === null) {\r\n        return false;\r\n      }\r\n\r\n      if (this.selectionStart.getTime() <= date.getTime() && date.getTime() <= this.selectionEnd.getTime()) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    this._cellMouseDown = function(ev) {\r\n    };\r\n\r\n    this._cellMouseMove = function(ev) {\r\n    };\r\n\r\n    this._cellClick = function(ev) {\r\n      var month = this.parentNode.month;\r\n\r\n      var x = this.x;\r\n      var y = this.y;\r\n      var day = month.cells[x][y].day;\r\n\r\n      if (!month.cells[x][y].isClickable) {\r\n        return;\r\n      }\r\n\r\n      calendar.clearSelection();\r\n\r\n      calendar.selectionDay = day;\r\n\r\n      var day = calendar.selectionDay;\r\n      switch (calendar._selectModeLowerCase()) {\r\n        case 'none':\r\n          //var s = month.cells[x][y];\r\n          calendar.selectionStart = day;\r\n          calendar.selectionEnd = day;\r\n          break;\r\n        case 'day':\r\n          var s = month.cells[x][y];\r\n          calendar._addClass(s, 'select');\r\n          calendar.selected.push(s);\r\n          calendar.selectionStart = s.day;\r\n          calendar.selectionEnd = s.day;\r\n          break;\r\n        case 'week':\r\n          for (var j = 0; j < 7; j++) {\r\n            calendar._addClass(month.cells[j][y], 'select');\r\n            calendar.selected.push(month.cells[j][y]);\r\n          }\r\n          calendar.selectionStart = month.cells[0][y].day;\r\n          calendar.selectionEnd = month.cells[6][y].day;\r\n          break;\r\n        case 'month':\r\n          var start = null;\r\n          var end = null;\r\n          for (var y = 0; y < 6; y++) {\r\n            for (var x = 0; x < 7; x++) {\r\n              var s = month.cells[x][y];\r\n              if (!s) {\r\n                continue;\r\n              }\r\n              if (s.day.getYear() === day.getYear() && s.day.getMonth() === day.getMonth()) {\r\n                calendar._addClass(s, 'select');\r\n                calendar.selected.push(s);\r\n                if (start === null) {\r\n                  start = s.day;\r\n                }\r\n                end = s.day;\r\n              }\r\n            }\r\n          }\r\n          calendar.selectionStart = start;\r\n          calendar.selectionEnd = end;\r\n          break;\r\n        default:\r\n          throw 'unknown selectMode';\r\n      }\r\n\r\n      calendar._timeRangeSelectedDispatch();\r\n    };\r\n\r\n    this._timeRangeSelectedDispatch = function() {\r\n      var start = calendar.selectionStart;\r\n      var end = calendar.selectionEnd.addDays(1);\r\n      var days = DayPilot.DateUtil.daysDiff(start, end);\r\n      var day = calendar.selectionDay;\r\n\r\n      if (calendar._api2()) {\r\n\r\n        var args = {};\r\n        args.start = start;\r\n        args.end = end;\r\n        args.day = day;\r\n        args.days =  days;\r\n        args.preventDefault = function() {\r\n          this.preventDefault.value = true;\r\n        };\r\n\r\n        if (typeof calendar.onTimeRangeSelect === 'function') {\r\n          calendar._angular.apply(function() {\r\n            calendar.onTimeRangeSelect(args);\r\n          });\r\n          if (args.preventDefault.value) {\r\n            return;\r\n          }\r\n        }\r\n\r\n        if (typeof calendar.onTimeRangeSelected === 'function') {\r\n          calendar._angular.apply(function() {\r\n            calendar.onTimeRangeSelected(args);\r\n          });\r\n        }\r\n\r\n      }\r\n    };\r\n\r\n    this._clickRight = function(ev) {\r\n      calendar._moveMonth(calendar.skipMonths);\r\n    };\r\n\r\n    this._clickLeft = function(ev) {\r\n      calendar._moveMonth(-calendar.skipMonths);\r\n    };\r\n\r\n    this._moveMonth = function(i) {\r\n      this.startDate = this.startDate.addMonths(i);\r\n      this._clearTable();\r\n      this._prepare();\r\n      this._drawMonths();\r\n    };\r\n\r\n    this.visibleStart = function() {\r\n      return calendar.startDate.firstDayOfMonth().firstDayOfWeek(resolved.weekStarts());\r\n    };\r\n\r\n    this.visibleEnd = function() {\r\n      return calendar.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek(resolved.weekStarts()).addDays(42);\r\n    };\r\n\r\n    this._drawMonths = function() {\r\n      for (var j = 0; j < this.showMonths; j++) {\r\n        var showLinks = this._getShowLinks(j);\r\n        this._drawTable(j, showLinks);\r\n      }\r\n\r\n      this.root.style.height = this._getHeight() + \"px\";\r\n    };\r\n\r\n    this._getHeight = function() {\r\n      var total = 0;\r\n      for (var i = 0; i < this.months.length; i++) {\r\n        var month = this.months[i];\r\n        total += month.height;\r\n      }\r\n      return total;\r\n    };\r\n\r\n    this._getShowLinks = function(j) {\r\n      if (this.internal.showLinks) {\r\n        return this.internal.showLinks;\r\n      }\r\n\r\n      var showLinks = {};\r\n      showLinks.left = (j === 0);\r\n      showLinks.right = (j === 0);\r\n      showLinks.before = j === 0;\r\n      showLinks.after = j === this.showMonths - 1;\r\n\r\n      return showLinks;\r\n    };\r\n\r\n    this.internal = {};\r\n\r\n    this._resolved = {};\r\n    var resolved = this._resolved;\r\n\r\n    resolved.locale = function() {\r\n      return DayPilot.Locale.find(calendar.locale);\r\n    };\r\n\r\n    resolved.weekStarts = function() {\r\n      if (calendar.weekStarts === 'Auto') {\r\n        var locale = resolved.locale();\r\n        if (locale) {\r\n          return locale.weekStarts;\r\n        }\r\n        else {\r\n          return 0; // Sunday\r\n        }\r\n      }\r\n      else {\r\n        return calendar.weekStarts;\r\n      }\r\n    };\r\n\r\n    this.clearSelection = function() {\r\n      for (var j = 0; j < this.selected.length; j++) {\r\n        this._removeClass(this.selected[j], 'select');\r\n      }\r\n      this.selected = [];\r\n    };\r\n\r\n    this._angular = {};\r\n    this._angular.scope = null;\r\n    this._angular.notify = function() {\r\n      if (calendar._angular.scope) {\r\n        calendar._angular.scope[\"$apply\"]();\r\n      }\r\n    };\r\n    this._angular.apply = function(f) {\r\n      if (calendar.angularAutoApply && calendar._angular.scope) {\r\n        calendar._angular.scope[\"$apply\"](f);\r\n      }\r\n      else {\r\n        f();\r\n      }\r\n    };\r\n\r\n    this._resetCssOnly = function() {\r\n      if (!calendar._cssOnly) {\r\n        calendar._cssOnly = true;\r\n        window.console && window.console.log && window.console.log(\"DayPilot: cssOnly = false mode is not supported anymore.\");\r\n      }\r\n    };\r\n\r\n    this._loadTop = function() {\r\n      if (this.id && this.id.tagName) {\r\n        this.nav.top = this.id;\r\n      }\r\n      else if (typeof this.id === \"string\") {\r\n        this.nav.top = document.getElementById(this.id);\r\n        if (!this.nav.top) {\r\n          throw \"DayPilot.Navigator: The placeholder element not found: '\" + id + \"'.\";\r\n        }\r\n      }\r\n      else {\r\n        throw \"DayPilot.Navigator() constructor requires the target element or its ID as a parameter\";\r\n      }\r\n\r\n      this.root = this.nav.top;\r\n\r\n    };\r\n\r\n    this.init = function() {\r\n      //this.root = document.getElementById(id);\r\n      this._loadTop();\r\n\r\n      this._resetCssOnly();\r\n\r\n      if (this.root.dp) { // already initialized\r\n        return;\r\n      }\r\n\r\n      this._adjustSelection();\r\n      this._prepare();\r\n      this._drawMonths();\r\n      this._registerDispose();\r\n\r\n      this.initialized = true;\r\n    };\r\n\r\n    this.dispose = function() {\r\n      var c = calendar;\r\n\r\n      if (!c.root) {\r\n        return;\r\n      }\r\n\r\n      c.root.removeAttribute(\"style\");\r\n      c.root.removeAttribute(\"class\");\r\n      c.root.dp = null;\r\n      c.root.innerHTML = null;\r\n      c.root = null;\r\n\r\n    };\r\n\r\n    this._registerDispose = function() {\r\n      //var root = document.getElementById(id);\r\n      this.root.dispose = this.dispose;\r\n    };\r\n\r\n    this.Init = this.init;\r\n\r\n  };\r\n\r\n  function addClass(object, name) {\r\n    if (!name) {\r\n      return;\r\n    }\r\n    if (!object) {\r\n      return;\r\n    }\r\n    if (isArray(object)) {\r\n      for (var i = 0; i < object.length; i++) {\r\n        addClass(object[i], name);\r\n      }\r\n      return;\r\n    }\r\n    if (!object.className) {\r\n      object.className = name;\r\n      return;\r\n    }\r\n    var already = new RegExp(\"(^|\\\\s)\" + name + \"($|\\\\s)\");\r\n    if (!already.test(object.className)) {\r\n      object.className = object.className + ' ' + name;\r\n    }\r\n  }\r\n\r\n  function removeClass(object, name) {\r\n    if (!object) {\r\n      return;\r\n    }\r\n    if (isArray(object)) {\r\n      for (var i = 0; i < object.length; i++) {\r\n        removeClass(object[i], name);\r\n      }\r\n      return;\r\n    }\r\n    if (!object.className) {\r\n      return;\r\n    }\r\n    var already = new RegExp(\"(^|\\\\s)\" + name + \"($|\\\\s)\");\r\n    object.className = object.className.replace(already, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');  // trim spaces\r\n  }\r\n\r\n  function isArray(o) {\r\n    return Object.prototype.toString.call(o) === '[object Array]';\r\n  }\r\n\r\n})(local);\r\n\r\nconst {Navigator} = local;\r\nexport {Navigator};\r\n", "/*\r\nCopyright (c) 2010 - 2020 Annpoint, s.r.o.\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\nhttp://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\n-------------------------------------------------------------------------\r\n\r\nNOTE: Requires the following acknowledgement (see also NOTICE):\r\n\r\nThis product includes DayPilot Modal (https://modal.daypilot.org).\r\n\r\n*/\r\n\r\nimport {Date} from \"./date\";\r\nimport {Navigator} from \"./navigator\";\r\nimport {Locale} from \"./locale\";\r\n\r\nvar local = {\r\n  Date,\r\n  Navigator,\r\n  Locale\r\n};\r\n\r\n(function(DayPilot) {\r\n  'use strict';\r\n\r\n  if (typeof DayPilot.DatePicker !== 'undefined') {\r\n    return;\r\n  }\r\n\r\n  DayPilot.DatePicker = function(properties) {\r\n    this.v = '${v}';\r\n    var navigatorId = \"navigator_\" + new Date().getTime();\r\n    var This = this;\r\n\r\n    this.onShow = null;\r\n    this.onTimeRangeSelect = null;\r\n    this.onTimeRangeSelected = null;\r\n\r\n    this.prepare = function() {\r\n      this.locale = \"en-us\";\r\n      this.target = null;\r\n      this.targetAlignment = \"left\";\r\n      this.resetTarget = true;\r\n      this.pattern = this._resolved.locale().datePattern;    // \"M/d/yyyy\"\r\n      //this.cssClassPrefix = null;\r\n      this.theme = \"navigator_default\";\r\n      this.patterns = [];\r\n      this.zIndex = null;\r\n\r\n      // load settings\r\n      if (properties) {\r\n        for (var name in properties) {\r\n          this[name] = properties[name];\r\n        }\r\n      }\r\n      this.init();\r\n    };\r\n\r\n    this.init = function() {\r\n      this.date = new DayPilot.Date(this.date);\r\n\r\n      var value = this._readFromTarget();\r\n\r\n      if (this.resetTarget && !value) {\r\n        this._writeToTarget(this.date);\r\n      }\r\n      else if (!this.resetTarget) {\r\n        This.date = value;\r\n      }\r\n\r\n      var target = this._element();\r\n      if (target) {\r\n        target.addEventListener(\"input\", function() {\r\n          This.date = This._readFromTarget();\r\n          if (This.date) {\r\n            This.navigator.select(This.date, {dontNotify: true});\r\n          }\r\n        });\r\n      }\r\n\r\n      document.addEventListener(\"mousedown\", function() {\r\n        This.close();\r\n      });\r\n\r\n      return this;\r\n\r\n    };\r\n\r\n    this.close = function() {\r\n      if (!this._visible) {\r\n        return;\r\n      }\r\n\r\n      this._visible = false;\r\n\r\n      if (this.navigator) {\r\n        this.navigator.dispose();\r\n      }\r\n      this.div.innerHTML = '';\r\n      if (this.div && this.div.parentNode === document.body) {\r\n        document.body.removeChild(this.div);\r\n      }\r\n    };\r\n\r\n    this.setDate = function(date) {\r\n      this.date = new DayPilot.Date(date);\r\n      this._writeToTarget(this.date);\r\n    };\r\n\r\n    this._readFromTarget = function() {\r\n      // recognized targets: input (value), other DOM elements (innerHTML)\r\n      var element = this._element();\r\n\r\n      if (!element) {\r\n        return this.date;\r\n      }\r\n\r\n      var value = null;\r\n      if (element.tagName === \"INPUT\") {\r\n        value = element.value;\r\n      }\r\n      else {\r\n        value = element.innerText;\r\n      }\r\n\r\n      if (!value) {\r\n        return null;\r\n      }\r\n\r\n      var date = DayPilot.Date.parse(value, This.pattern);\r\n      for (var i = 0; i < This.patterns.length; i++) {\r\n        if (date) {\r\n          return date;\r\n        }\r\n        date = DayPilot.Date.parse(value, This.patterns[i]);\r\n      }\r\n\r\n      return date;\r\n    };\r\n\r\n    this._writeToTarget = function(date) {\r\n      var element = this._element();\r\n\r\n      if (!element) {\r\n        return;\r\n      }\r\n\r\n      var value = date.toString(This.pattern, This.locale);\r\n      if (element.tagName === \"INPUT\") {\r\n        element.value = value;\r\n      }\r\n      else {\r\n        element.innerHTML = value;\r\n      }\r\n\r\n    };\r\n\r\n    this._resolved = {};\r\n    this._resolved.locale = function() {\r\n      return DayPilot.Locale.find(This.locale);\r\n    };\r\n\r\n    this._element = function() {\r\n      var id = this.target;\r\n      // accept DOM element or id (string)\r\n      var element = (id && id.nodeType && id.nodeType === 1 ) ? id : document.getElementById(id);\r\n      return element;\r\n    };\r\n\r\n    Object.defineProperty(this, \"visible\", {\r\n      get: function() { return This._visible; }\r\n    });\r\n\r\n    this.show = function() {\r\n\r\n      if (this._visible) {\r\n        return;\r\n      }\r\n\r\n      var element = this._element();\r\n      var navigator = this.navigator;\r\n\r\n      var navigator = new DayPilot.Navigator(navigatorId);\r\n      navigator.api = 2;\r\n      navigator.cssOnly = true;\r\n      navigator.theme = This.theme;\r\n      navigator.weekStarts = \"Auto\";\r\n      navigator.locale = This.locale;\r\n      navigator.onTimeRangeSelected = function(args) {\r\n        This.date = args.start;\r\n\r\n        var start = args.start.addTime(navigator._pickerTimePart);\r\n        var value = start.toString(This.pattern, This.locale);\r\n\r\n        var args = {};\r\n        args.start = start;\r\n        args.date = start;\r\n        args.preventDefault = function() {\r\n          this.preventDefault.value = true;\r\n        };\r\n\r\n        if (typeof This.onTimeRangeSelect ===  'function') {\r\n          This.onTimeRangeSelect(args);\r\n          if (args.preventDefault.value) {\r\n            return;\r\n          }\r\n        }\r\n\r\n        This._writeToTarget(value);\r\n        This.close();\r\n\r\n        if (typeof This.onTimeRangeSelected === 'function') {\r\n          This.onTimeRangeSelected(args);\r\n        }\r\n      };\r\n\r\n      this.navigator = navigator;\r\n\r\n      var position = abs(element);\r\n      var height = element.offsetHeight;\r\n\r\n      var align = This.targetAlignment;\r\n\r\n      var div = document.createElement(\"div\");\r\n      div.style.position = \"absolute\";\r\n\r\n      if (align === \"left\") {\r\n        div.style.left = position.x + \"px\";\r\n      }\r\n\r\n\r\n      div.style.top = (position.y + height) + \"px\";\r\n      if (This.zIndex) {\r\n        div.style.zIndex = This.zIndex;\r\n      }\r\n\r\n      var nav = document.createElement(\"div\");\r\n      nav.id = navigatorId;\r\n      div.appendChild(nav);\r\n\r\n      div.addEventListener(\"mousedown\", function(ev) {\r\n        var ev = ev || window.event;\r\n        ev.cancelBubble = true;\r\n        ev.stopPropagation && ev.stopPropagation();\r\n      });\r\n\r\n      document.body.appendChild(div);\r\n\r\n      this.div = div;\r\n\r\n      var selected = This._readFromTarget() || new DayPilot.Date().getDatePart();\r\n\r\n      navigator.startDate = selected;\r\n      navigator._pickerTimePart = selected.getTimePart();\r\n      // navigator.selectionStart = selected.getDatePart();\r\n      navigator.selectionDay = selected.getDatePart();\r\n      navigator.init();\r\n\r\n      if (align === \"right\") {\r\n        var left = (position.x + element.offsetWidth - navigator.nav.top.offsetWidth);\r\n        div.style.left = left + \"px\";\r\n      }\r\n\r\n      this._visible = true;\r\n      if (this.onShow) {\r\n        this.onShow();\r\n      }\r\n    };\r\n\r\n    this.prepare();\r\n  };\r\n\r\n  // absolute element position on page\r\n  function abs(element, visible) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n\r\n    if (!document.body.contains(element)) {\r\n      return null;\r\n    }\r\n    if (element.getBoundingClientRect) {\r\n      var r = absBoundingClientBased(element);\r\n\r\n      if (visible) {\r\n        // use diff, absOffsetBased is not as accurate\r\n        var full = absOffsetBased(element, false);\r\n        var visible = absOffsetBased(element, true);\r\n\r\n        r.x += visible.x - full.x;\r\n        r.y += visible.y - full.y;\r\n        r.w = visible.w;\r\n        r.h = visible.h;\r\n      }\r\n\r\n      return r;\r\n    }\r\n    else {\r\n      return absOffsetBased(element, visible);\r\n    }\r\n  }\r\n\r\n  function absBoundingClientBased(element) {\r\n    var elemRect = element.getBoundingClientRect();\r\n\r\n    return {\r\n      x: elemRect.left + window.pageXOffset,\r\n      y: elemRect.top + window.pageYOffset,\r\n      w: element.clientWidth,\r\n      h: element.clientHeight,\r\n      toString: function() {\r\n        return \"x:\" + this.x + \" y:\" + this.y + \" w:\" + this.w + \" h:\" + this.h;\r\n      }\r\n    };\r\n  }\r\n\r\n  function absOffsetBased(element, visible) {\r\n    var r = {\r\n      x: element.offsetLeft,\r\n      y: element.offsetTop,\r\n      w: element.clientWidth,\r\n      h: element.clientHeight,\r\n      toString: function() {\r\n        return \"x:\" + this.x + \" y:\" + this.y + \" w:\" + this.w + \" h:\" + this.h;\r\n      }\r\n    };\r\n\r\n    while (op(element)) {\r\n      element = op(element);\r\n\r\n      r.x -= element.scrollLeft;\r\n      r.y -= element.scrollTop;\r\n\r\n      if (visible) {  // calculates the visible part\r\n        if (r.x < 0) {\r\n          r.w += r.x; // decrease width\r\n          r.x = 0;\r\n        }\r\n\r\n        if (r.y < 0) {\r\n          r.h += r.y; // decrease height\r\n          r.y = 0;\r\n        }\r\n\r\n        if (element.scrollLeft > 0 && r.x + r.w > element.clientWidth) {\r\n          r.w -= r.x + r.w - element.clientWidth;\r\n        }\r\n\r\n        if (element.scrollTop && r.y + r.h > element.clientHeight) {\r\n          r.h -= r.y + r.h - element.clientHeight;\r\n        }\r\n      }\r\n\r\n      r.x += element.offsetLeft;\r\n      r.y += element.offsetTop;\r\n\r\n    }\r\n\r\n    var pageOffset = pageOffset();\r\n    r.x += pageOffset.x;\r\n    r.y += pageOffset.y;\r\n\r\n    return r;\r\n  }\r\n\r\n  function op(element) {\r\n    try {\r\n      return element.offsetParent;\r\n    }\r\n    catch (e) {\r\n      return document.body;\r\n    }\r\n  }\r\n\r\n  function pageOffset() {\r\n    if (typeof window.pageXOffset !== 'undefined') {\r\n      return {x: window.pageXOffset, y: window.pageYOffset};\r\n    }\r\n    //return { x: 0, y: 0};\r\n    var d = doc();\r\n    return {x: d.scrollLeft, y: d.scrollTop};\r\n  }\r\n\r\n  // document element\r\n  function doc() {\r\n    var de = document.documentElement;\r\n    return (de && de.clientHeight) ? de : document.body;\r\n  }\r\n\r\n})(local);\r\n\r\nconst {DatePicker} = local;\r\n\r\nexport {DatePicker};\r\n", "/**\r\n * Created on 2020-08-14.\r\n */\r\n\r\nconst local = {};\r\n\r\n(function (DayPilot) {\r\n  'use strict';\r\n\r\n  if (DayPilot.Table) {\r\n    return;\r\n  }\r\n\r\n  var Table = function(options) {\r\n\r\n    this.form = null; // Form instance\r\n    this.item = null; // table def from form\r\n    this.data = null;\r\n    this.name = null;\r\n    this.theme = \"edit_table_default\";\r\n    this.onInput = null;\r\n\r\n    this.nav = {};\r\n\r\n    this._activeEdit = null;\r\n    this._rows = [];\r\n\r\n    options = options || {};\r\n\r\n    for (var name in options) {\r\n      this[name] = options[name];\r\n    }\r\n\r\n  };\r\n\r\n  Table.prototype.create = function() {\r\n    var table = this;\r\n\r\n    var div = document.createElement(\"div\");\r\n    div.className = this.theme + \"_main\";\r\n    div.style.position = \"relative\";\r\n\r\n    var hidden = document.createElement(\"input\");\r\n    hidden.type = \"hidden\";\r\n    hidden.name = table.name;\r\n    hidden.table = this;\r\n    div.appendChild(hidden);\r\n\r\n    var tableElement = document.createElement(\"div\");\r\n    tableElement.className = this.theme + \"_table\";\r\n    var header = this._createHeader();\r\n    tableElement.appendChild(header);\r\n\r\n    var spacerRow = table._createRowState({});\r\n    spacerRow.spacer = true;\r\n    var spacer = this._renderRow(spacerRow);\r\n    // spacer.style.visibility = \"hidden\";\r\n    spacer.classList.add(table.theme + \"_spacer\");\r\n    tableElement.appendChild(spacer);\r\n\r\n    var body = document.createElement(\"div\");\r\n    body.className = table.theme + \"_tbody\";\r\n    tableElement.appendChild(body);\r\n\r\n    div.appendChild(tableElement);\r\n\r\n    var after = document.createElement(\"div\");\r\n    div.appendChild(after);\r\n\r\n    this.nav.body = body;\r\n    this.nav.table = tableElement;\r\n    this.nav.main = div;\r\n    this.nav.after = after;\r\n\r\n    var add = document.createElement(\"div\");\r\n    var plus = document.createElement(\"span\");\r\n    plus.className = this.theme + \"_plus\";\r\n\r\n    plus.addEventListener(\"click\", function(ev) {\r\n      if (table.disabled) {\r\n        return;\r\n      }\r\n\r\n      var generate = table.item.onNewRow;\r\n      var value = {};\r\n      if (typeof generate === \"function\") {\r\n        var args = {};\r\n        args.result = table.form.serialize();\r\n        args.value = {};\r\n        generate(args);\r\n        value = args.value;\r\n      }\r\n\r\n      var row = table._createRowState(value);\r\n      table._rows.push(row);\r\n      table._render();\r\n      table._doOnInput();\r\n    });\r\n\r\n    this.nav.plus = plus;\r\n\r\n    add.appendChild(plus);\r\n    div.appendChild(add);\r\n\r\n    return div;\r\n  };\r\n\r\n  Table.prototype._createHeader = function() {\r\n    var table = this;\r\n    var row = document.createElement(\"div\");\r\n    row.classList.add(this.theme + \"_row\");\r\n    row.classList.add(this.theme + \"_header\");\r\n    this.item.columns.forEach(function(item) {\r\n      var cell = document.createElement(\"div\");\r\n      cell.classList.add(table.theme + \"_cell\");\r\n      cell.innerText = item.name;\r\n      row.appendChild(cell);\r\n    });\r\n    return row;\r\n  };\r\n\r\n  Table.prototype._maxRowsReached = function() {\r\n    var max = this.item.max || 0;\r\n    if (max && this._rows.length >= max) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  Table.prototype.save = function() {\r\n    var table = this;\r\n    var data = [];\r\n\r\n    table._rows.forEach(function(row) {\r\n      var item = {};\r\n      row.cells.forEach(function(cell) {\r\n        item[cell.id] = cell.value;\r\n      });\r\n      data.push(item);\r\n    });\r\n\r\n    return data;\r\n  };\r\n\r\n  Table.prototype.load = function(data) {\r\n    var table = this;\r\n\r\n    var isArray = Object.prototype.toString.call(data) === '[object Array]';\r\n    if (!isArray) {\r\n      throw new Error(\"Array expected\");\r\n    }\r\n\r\n    this.data = data;\r\n\r\n    this._createState();\r\n    this._render();\r\n  };\r\n\r\n  Table.prototype._updateCss = function() {\r\n    if (this.disabled) {\r\n      this.nav.main.classList.add(this.theme + \"_disabled\");\r\n    }\r\n    else {\r\n      this.nav.main.classList.remove(this.theme + \"_disabled\");\r\n    }\r\n\r\n    var maxReached = this._maxRowsReached();\r\n    if (maxReached) {\r\n      this.nav.plus.classList.add(this.theme + \"_plus_max\");\r\n    }\r\n    else {\r\n      this.nav.plus.classList.remove(this.theme + \"_plus_max\");\r\n    }\r\n  };\r\n\r\n  Table.prototype._createState = function() {\r\n    var table = this;\r\n    this._rows = [];\r\n    this.data.forEach(function(dataRow) {\r\n      var row = table._createRowState(dataRow);\r\n      table._rows.push(row);\r\n    });\r\n  };\r\n\r\n  Table.prototype._removeRow = function(row) {\r\n    var table = this;\r\n\r\n    var index = table._rows.indexOf(row);\r\n    table._rows.splice(index, 1);\r\n  };\r\n\r\n  Table.prototype._createRowState = function(dataRow) {\r\n    var table = this;\r\n\r\n    var row = {};\r\n    row.data = dataRow;\r\n    row.cells = [];\r\n\r\n    table.item.columns.forEach(function(formItem) {\r\n      var id = formItem.id;\r\n      var value = dataRow[id];\r\n\r\n      var type = table._formItemType(formItem);\r\n      if (typeof value === \"undefined\") {\r\n        if (type === \"text\") {\r\n          value = \"\";\r\n        }\r\n        else if (type === \"number\") {\r\n          value = 0;\r\n        }\r\n        else if (type === \"select\") {\r\n          var options = formItem.options;\r\n          value = options && options[0].id;\r\n        }\r\n      }\r\n\r\n      var cell = {};\r\n      cell.id = id;\r\n      cell.value = value;\r\n      cell.type = type;\r\n      cell.data = formItem;\r\n      row.cells.push(cell);\r\n    });\r\n\r\n    return row;\r\n  };\r\n\r\n  Table.prototype._formItemType = function(formItem) {\r\n    var type = formItem.type;\r\n    if (!type) {\r\n      if (formItem.options) {\r\n        type = \"select\";\r\n      }\r\n      else {\r\n        type = \"text\";\r\n      }\r\n    }\r\n    return type;\r\n  };\r\n\r\n  Table.prototype._render = function() {\r\n\r\n    var table = this;\r\n    this.nav.body.innerHTML = \"\";\r\n    this.nav.after.innerHTML = \"\";\r\n\r\n    this._rows.forEach(function(row) {\r\n      var el = table._renderRow(row);\r\n      table.nav.body.appendChild(el);\r\n    });\r\n\r\n    if (this._rows.length === 0) {\r\n      var el = table._renderEmpty();\r\n      table.nav.after.appendChild(el);\r\n    }\r\n\r\n    this._updateCss();\r\n  };\r\n\r\n  Table.prototype._renderEmpty = function() {\r\n    var div = document.createElement(\"div\");\r\n    div.className = this.theme + \"_empty\";\r\n\r\n    return div;\r\n  };\r\n\r\n  Table.prototype._renderRow = function(row) {\r\n    var table = this;\r\n    var el = document.createElement(\"div\");\r\n    el.className = table.theme + \"_row\";\r\n\r\n    row.cells.forEach(function(cell) {\r\n\r\n      var cellEl = document.createElement(\"div\");\r\n      cellEl.className = table.theme + \"_cell\";\r\n      var interactive = table._renderCell(cell);\r\n\r\n      if (row.spacer) {\r\n        var wrap = document.createElement(\"div\");\r\n        wrap.style.height = \"0px\";\r\n        wrap.style.overflow = \"hidden\";\r\n        wrap.appendChild(interactive);\r\n\r\n        cellEl.appendChild(wrap);\r\n      }\r\n      else {\r\n        cellEl.appendChild(interactive);\r\n\r\n      }\r\n\r\n      el.appendChild(cellEl);\r\n    });\r\n\r\n    var cell = document.createElement(\"div\");\r\n    cell.classList.add(table.theme + \"_cell\");\r\n    cell.classList.add(table.theme + \"_rowaction\");\r\n\r\n    var span = document.createElement(\"span\");\r\n    span.className = this.theme + \"_delete\";\r\n\r\n    span.addEventListener(\"click\", function(ev) {\r\n      if (table.disabled) {\r\n        return;\r\n      }\r\n      table._removeRow(row);\r\n      table._render();\r\n      table._doOnInput();\r\n    });\r\n\r\n    if (!row.spacer) {\r\n      cell.appendChild(span);\r\n    }\r\n\r\n\r\n    el.appendChild(cell);\r\n\r\n    return el;\r\n  };\r\n\r\n  Table.prototype._doOnInput = function() {\r\n    var table = this;\r\n    if (typeof table.onInput === \"function\") {\r\n      var args = {}\r\n      table.onInput(args);\r\n    }\r\n  };\r\n\r\n  Table.prototype._renderCell = function(cell) {\r\n    var table = this;\r\n    var type = cell.type;\r\n    if (type === \"text\" || type === \"number\") {\r\n      var input = document.createElement(\"input\");\r\n      input.type = type;\r\n      if (table.disabled) {\r\n        input.disabled = true;\r\n      }\r\n      if (cell.value) {\r\n        input.value = cell.value;\r\n      }\r\n      input.addEventListener(\"keyup\", function(ev) {\r\n        if (type === \"number\") {\r\n          cell.value = Number(this.value);\r\n        }\r\n        else {\r\n          cell.value = this.value;\r\n        }\r\n        table._doOnInput();\r\n      });\r\n      return input;\r\n    }\r\n    else if (type === \"select\") {\r\n      var select = document.createElement(\"select\");\r\n      if (table.disabled) {\r\n        select.disabled = true;\r\n      }\r\n\r\n      cell.data.options.forEach(function(item) {\r\n        var option = document.createElement(\"option\");\r\n        option.innerText = item.name;\r\n        option.value = item.id;\r\n        option._originalValue = item.id;\r\n\r\n        select.appendChild(option);\r\n\r\n        if (cell.value === item.id) {\r\n          option.setAttribute(\"selected\", true);\r\n        }\r\n      });\r\n\r\n      select.addEventListener(\"change\", function(ev) {\r\n        var option = select.options[select.selectedIndex];\r\n        if (option && typeof option._originalValue !== \"undefined\") {\r\n          cell.value = option._originalValue;\r\n        }\r\n        table._doOnInput();\r\n      });\r\n\r\n      return select;\r\n    }\r\n\r\n    throw new Error(\"Unsupported item type: \" + type);\r\n  };\r\n\r\n  Table.prototype.focus = function() {\r\n  };\r\n\r\n  DayPilot.Table = Table;\r\n})(local);\r\n\r\nconst {Table} = local;\r\nexport {Table};\r\n", "import {Searchable} from \"./searchable\";\r\nimport {DatePicker} from \"./datepicker\";\r\nimport {Date} from \"./date\";\r\nimport {Table} from \"./table\";\r\nimport {Locale} from \"./locale\";\r\n\r\nconst local = {\r\n  Date,\r\n  DatePicker,\r\n  Searchable,\r\n  Table,\r\n  Locale\r\n};\r\n\r\n(function (DayPilot) {\r\n  'use strict';\r\n\r\n  if (DayPilot.Form) {\r\n    return;\r\n  }\r\n\r\n  var Form = function (options) {\r\n\r\n    // properties\r\n    this.form = [];\r\n    this.data = {};\r\n    this.theme = \"form_default\";\r\n    this.zIndex = 99999;\r\n    this.locale = \"en-us\";\r\n    this.plugins = {};\r\n\r\n    // events\r\n    this.onKey = null;\r\n\r\n    // state\r\n    this._rows = [];\r\n    this._newRows = null;\r\n    this.canceling = false;\r\n\r\n    this._validationTimeouts = [];\r\n\r\n    // view\r\n    this._views = [];\r\n    this._div = null;\r\n\r\n    options = options || {};\r\n\r\n    for (var name in options) {\r\n      this[name] = options[name];\r\n    }\r\n  };\r\n\r\n  Form.prototype.create = function () {\r\n    this.load();\r\n    this.render();\r\n\r\n    return this._div;\r\n  };\r\n\r\n  Form.prototype.render = function () {\r\n    var form = this;\r\n    this._div = document.createElement(\"div\");\r\n    this._rows.forEach(function (row) {\r\n      form.createView(row);\r\n    });\r\n    this.applyState();\r\n  };\r\n\r\n  Form.prototype.createView = function (row) {\r\n    var theme = this.theme;\r\n    var form = this;\r\n\r\n    var div = document.createElement(\"div\");\r\n    div.className = theme + \"_form_item \" + theme + \"_form_item_level\" + row.level;\r\n    if (!row.interactive && row.type === \"title\") {\r\n/*\r\n      if (row.type === \"title\") {\r\n        div.className += \" \" + theme + \"_form_title\";\r\n      }\r\n*/\r\n      div.className += \" \" + theme + \"_form_title\";\r\n    }\r\n    else {\r\n      div.className += \" \" + theme + \"_form_item_\" + row.type;\r\n    }\r\n    if (row.data.cssClass) {\r\n      div.className += \" \" + row.data.cssClass;\r\n    }\r\n\r\n    if (!row.isValue) {\r\n      var label = document.createElement(\"div\");\r\n      label.className = theme + \"_form_item_label\";\r\n      label.innerText = row.text;\r\n      div.appendChild(label);\r\n    }\r\n\r\n    var interactive = this.createInteractive(row);\r\n    interactive.onInput = function(options) {\r\n      options = options || {};\r\n      form._validateInteractive(interactive, {\r\n        \"debounce\": !options.immediate\r\n      });\r\n      if (typeof form.onChange === \"function\") {\r\n        var args = {};\r\n        args.result = form.serialize();\r\n        form.onChange(args);\r\n      }\r\n    };\r\n    interactive.onBlur = function() {\r\n      if (!form.canceling) {\r\n        form._validateInteractive(interactive);\r\n      }\r\n    };\r\n    interactive.apply(row);\r\n    interactive._div = div;\r\n    interactive.row = row;\r\n\r\n    if (interactive.element) {\r\n      div.appendChild(interactive.element);\r\n    }\r\n\r\n    this._views.push(interactive);\r\n\r\n    this._div.appendChild(div);\r\n\r\n  };\r\n\r\n  Form.prototype.validate = function() {\r\n    var form = this;\r\n    var valid = true;\r\n    this._views.forEach(function(interactive) {\r\n      var iv = form._validateInteractive(interactive);\r\n      valid = valid && iv;\r\n    });\r\n    return valid;\r\n  };\r\n\r\n  Form.prototype._validateInteractive = function(interactive, options) {\r\n    options = options || {};\r\n    var debounce = options.debounce;\r\n    var silent = options.silent;\r\n\r\n\r\n    var row = interactive.row;\r\n    var valid = true;\r\n\r\n    var onValidate = typeof row.data.onValidate === \"function\" ? row.data.onValidate : null;\r\n    var validate = typeof  row.data.validate === \"function\" ? row.data.validate : null;  // legacy\r\n\r\n    var validateHandler = onValidate || validate;\r\n\r\n    if (validateHandler) {\r\n\r\n      var args = {};\r\n      args.valid = true;\r\n      args.value = interactive.save()[row.field];\r\n      args.message = \"Error\";\r\n      args.values = this.serialize();  // legacy\r\n      args.result = this.serialize();\r\n\r\n      validateHandler(args);\r\n\r\n      var cssClassInvalid = this.theme + \"_form_item_invalid\";\r\n      var cssClassMessage = this.theme + \"_form_item_invalid_message\";\r\n      if (args.valid) {\r\n        clearTimeout(this._validationTimeouts[row.field]);\r\n\r\n        if (interactive._errorMsg) {\r\n          interactive._errorMsg.remove();\r\n          interactive._errorMsg = null;\r\n        }\r\n        interactive._div.classList.remove(cssClassInvalid);\r\n      }\r\n      else {\r\n\r\n        function showInvalid() {\r\n          if (interactive._errorMsg) {\r\n            interactive._errorMsg.remove();\r\n            interactive._errorMsg = null;\r\n          }\r\n\r\n          interactive._div.classList.add(cssClassInvalid);\r\n          var msg = document.createElement(\"div\");\r\n          msg.classList.add(cssClassMessage);\r\n          msg.innerText = args.message;\r\n\r\n          interactive._errorMsg = msg;\r\n\r\n          interactive._div.appendChild(msg);\r\n        }\r\n\r\n        if (!silent) {\r\n          if (debounce) {\r\n\r\n            var debounceDelay = 1000;\r\n\r\n            clearTimeout(this._validationTimeouts[row.field]);\r\n\r\n            this._validationTimeouts[row.field] = setTimeout(function() {\r\n              showInvalid();\r\n            }, debounceDelay);\r\n          }\r\n          else {\r\n            showInvalid();\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n      valid = args.valid;\r\n    }\r\n    return valid;\r\n  };\r\n\r\n  Form.prototype.load = function () {\r\n    // transform this.form + this.data into state (_rows)\r\n    var t = this;\r\n    this.form.forEach(function (item) {\r\n      t.processFormItem(item, 0);\r\n    });\r\n\r\n    var flat;\r\n    // sanity check (especially for circular references)\r\n    try {\r\n      var stringified = JSON.stringify(this.data);\r\n      var rebuilt = JSON.parse(stringified);\r\n      flat = flatten(rebuilt);\r\n    }\r\n    catch (e) {\r\n      throw new Error(\"The 'data' object is not serializable (it may contain circular dependencies): \" + e);\r\n    }\r\n\r\n    // set values\r\n    for (var name in flat) {\r\n      this.setValue(name, flat[name]);\r\n    }\r\n\r\n    // set state depending on values\r\n    // this.updateDependentState();\r\n  };\r\n\r\n  Form.prototype.setValue = function (name, value) {\r\n    this._rows.forEach(function (row) {\r\n      row.applyValue(name, value);\r\n    });\r\n  };\r\n\r\n  Form.prototype.updateDependentState = function () {\r\n    var form = this;\r\n    var enabled = [true];\r\n\r\n    var source = this._newRows ? this._newRows : this._rows;\r\n\r\n    source.forEach(function (row) {\r\n\r\n      var updatedRow = form.updateState(row, {\r\n        enabled: enabled[row.level] && !row.data.disabled\r\n      });\r\n\r\n      if (updatedRow.isValue) {\r\n        enabled[updatedRow.level + 1] = updatedRow.enabled && updatedRow.checked;\r\n      }\r\n    });\r\n  };\r\n\r\n  Form.prototype.processFormItem = function (item, level) {\r\n    var form = this;\r\n    var type = this.getFieldType(item);\r\n\r\n    var rows = [];\r\n\r\n    if (type === \"radio\") {\r\n\r\n      if (item.name) {\r\n        var row = new RowModel();\r\n        row.field = item.id;\r\n        row.data = item;\r\n        row.level = level;\r\n        row.type = \"label\";\r\n        row.interactive = false;\r\n        row.text = item.name;\r\n        form._rows.push(row);\r\n        rows.push(row);\r\n      }\r\n\r\n      item.options.forEach(function (option) {\r\n        var row = new RowModel();\r\n        row.field = item.id;\r\n        row.data = option;\r\n        row.level = level;\r\n        row.type = type;\r\n        row.isValue = true;\r\n        row.text = option.name;\r\n        row.resolved = option.id;\r\n        form._rows.push(row);\r\n        rows.push(row);\r\n\r\n        if (option.children) {\r\n          option.children.forEach(function (child) {\r\n            var childRows = form.processFormItem(child, level + 1);\r\n            rows = rows.concat(childRows);\r\n          })\r\n        }\r\n      });\r\n    }\r\n    else if (type === \"title\") {\r\n      var row = new RowModel();\r\n      row.field = item.id;\r\n      row.data = item;\r\n      row.level = level;\r\n      row.type = type;\r\n      row.interactive = false;\r\n      row.text = item.name;\r\n      form._rows.push(row);\r\n      rows.push(row);\r\n    }\r\n    else if (type === \"image\") {\r\n      var row = new RowModel();\r\n      row.isValue = true;\r\n      row.field = item.id;\r\n      row.data = item;\r\n      row.level = level;\r\n      row.type = type;\r\n      row.interactive = false;\r\n      row.text = null;\r\n      form._rows.push(row);\r\n      rows.push(row);\r\n    }\r\n    else if (type === \"html\") {\r\n      var row = new RowModel();\r\n      row.isValue = true;\r\n      row.field = item.id;\r\n      row.data = item;\r\n      row.level = level;\r\n      row.type = type;\r\n      row.interactive = false;\r\n      row.text = null;\r\n      form._rows.push(row);\r\n      rows.push(row);\r\n    }\r\n    else if (type === \"scrollable\") {\r\n      var row = new RowModel();\r\n      row.isValue = true;\r\n      row.field = item.id;\r\n      row.data = item;\r\n      row.level = level;\r\n      row.type = type;\r\n      row.interactive = false;\r\n      row.text = null;\r\n      form._rows.push(row);\r\n      rows.push(row);\r\n    }\r\n    else {\r\n      var row = new RowModel();\r\n      row.field = item.id;\r\n      row.data = item;\r\n      row.level = level;\r\n      row.type = type;\r\n      row.text = item.name;\r\n      row.children = [];\r\n      form._rows.push(row);\r\n      rows.push(row);\r\n    }\r\n\r\n    if (type === \"checkbox\") {\r\n      row.isValue = true;\r\n      row.resolved = true;\r\n\r\n      if (item.children) {\r\n        item.children.forEach(function (child) {\r\n          var childRows = form.processFormItem(child, level + 1);\r\n          rows = rows.concat(childRows);\r\n        })\r\n      }\r\n    }\r\n\r\n    return rows;\r\n\r\n  };\r\n\r\n  Form.prototype.doOnKey = function (key) {\r\n    if (typeof this.onKey === \"function\") {\r\n      var args = {\r\n        key: key\r\n      };\r\n      this.onKey(args);\r\n    }\r\n  };\r\n\r\n  Form.prototype.createInteractive = function (row) {\r\n    var form = this;\r\n    var views = {\r\n      \"label\": function () {\r\n        return new Interactive();\r\n      },\r\n      \"title\": function () {\r\n        return new Interactive();\r\n      },\r\n      \"image\": function() {\r\n        var interactive = new Interactive();\r\n\r\n        var image = document.createElement(\"img\");\r\n        image.src = row.data.image;\r\n\r\n        interactive.element = image;\r\n\r\n        return interactive;\r\n      },\r\n      \"html\": function() {\r\n        var interactive = new Interactive();\r\n\r\n        var div = document.createElement(\"div\");\r\n        if (typeof row.data.text === \"string\") {\r\n          div.innerText = row.data.text;\r\n        }\r\n        else if (typeof row.data.html === \"string\") {\r\n          div.innerHTML = row.data.html;\r\n        }\r\n\r\n        interactive.element = div;\r\n\r\n        return interactive;\r\n      },\r\n      \"scrollable\": function() {\r\n        var interactive = new Interactive();\r\n\r\n        var scroll = document.createElement(\"div\");\r\n        scroll.className = form.theme + \"_form_item_scrollable_scroll\";\r\n\r\n        if (row.data.height) {\r\n          scroll.style.height = row.data.height + \"px\";\r\n        }\r\n\r\n        var div = document.createElement(\"div\");\r\n        div.className = form.theme + \"_form_item_scrollable_scroll_content\";\r\n        if (typeof row.data.text === \"string\") {\r\n          div.innerText = row.data.text;\r\n        }\r\n        else if (typeof row.data.html === \"string\") {\r\n          div.innerHTML = row.data.html;\r\n        }\r\n\r\n        scroll.appendChild(div);\r\n\r\n        interactive.element = scroll;\r\n\r\n        return interactive;\r\n      },\r\n      \"text\": function () {\r\n        var interactive = new Interactive();\r\n        interactive.apply = function (row) {\r\n          interactive.row = row;\r\n\r\n          var input = interactive.element;\r\n          input.value = row.value;\r\n          input.disabled = !row.enabled;\r\n        };\r\n\r\n        var input = document.createElement(\"input\");\r\n        input.name = row.field;\r\n        input.type = \"text\";\r\n        input.autocomplete = \"off\";\r\n        input.onkeydown = function (e) {\r\n          var letcontinue = false;\r\n          switch (e.keyCode) {\r\n            case 13:\r\n              form.doOnKey(\"Enter\");\r\n              break;\r\n            case 27:\r\n              form.doOnKey(\"Escape\");\r\n              break;\r\n            default:\r\n              letcontinue = true;\r\n              break;\r\n          }\r\n          if (!letcontinue) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }\r\n        };\r\n\r\n        input.oninput = function(e) {\r\n          interactive.onInput();\r\n        };\r\n        input.onblur = function(e) {\r\n          interactive.onBlur();\r\n        }\r\n\r\n        interactive.element = input;\r\n        interactive.canFocus = function() {\r\n          return !interactive.element.disabled;\r\n        };\r\n        interactive.focus = function () {\r\n          interactive.element.focus();\r\n          interactive.element.setSelectionRange(0, interactive.element.value.length);\r\n        };\r\n        interactive.save = function() {\r\n          var result = {};\r\n          result[row.field] = input.value;\r\n          return result;\r\n        };\r\n\r\n        return interactive;\r\n      },\r\n      \"textarea\": function () {\r\n        var interactive = new Interactive();\r\n        interactive.apply = function (row) {\r\n          interactive.row = row;\r\n\r\n          var input = interactive.element;\r\n          input.value = row.value;\r\n          input.disabled = !row.enabled;\r\n        };\r\n\r\n        var textarea = document.createElement(\"textarea\");\r\n        textarea.name = row.field;\r\n        if (row.data.height) {\r\n          textarea.style.height = row.data.height + \"px\";\r\n        }\r\n        // input.type = \"text\";\r\n        textarea.onkeydown = function (e) {\r\n          var letcontinue = false;\r\n          switch (e.keyCode) {\r\n            case 13:\r\n              // form.doOnKey(\"Enter\");\r\n              if (e.ctrlKey || e.metaKey) {\r\n                form.doOnKey(\"Enter\");\r\n              }\r\n              letcontinue = false;\r\n              break;\r\n            case 27:\r\n              form.doOnKey(\"Escape\");\r\n              break;\r\n            default:\r\n              letcontinue = true;\r\n              break;\r\n          }\r\n          if (!letcontinue) {\r\n            // e.preventDefault();\r\n            e.stopPropagation();\r\n          }\r\n        };\r\n\r\n        textarea.oninput = function(e) {\r\n          interactive.onInput();\r\n        };\r\n        textarea.onblur = function(e) {\r\n          interactive.onBlur();\r\n        }\r\n\r\n        interactive.element = textarea;\r\n        interactive.canFocus = function() {\r\n          return !interactive.element.disabled;\r\n        };\r\n        interactive.focus = function () {\r\n          interactive.element.focus();\r\n          interactive.element.setSelectionRange(0, 0);\r\n        };\r\n        interactive.save = function() {\r\n          var result = {};\r\n          result[row.field] = textarea.value;\r\n          return result;\r\n        };\r\n\r\n        return interactive;\r\n      },\r\n      \"date\": function () {\r\n        var interactive = new Interactive();\r\n        interactive.apply = function (row) {\r\n          interactive.row = row;\r\n          var input = interactive.element;\r\n          var picker = interactive.picker;\r\n\r\n          if (row.data.dateFormat) {\r\n            picker.pattern = row.data.dateFormat;\r\n          }\r\n          var locale = row.data.locale || form.locale;\r\n          if (locale) {\r\n            picker.locale = locale;\r\n          }\r\n\r\n          input.disabled = !row.enabled;\r\n\r\n          picker.date = new DayPilot.Date(row.value);\r\n          var formatted = new DayPilot.Date(row.value).toString(row.data.dateFormat || picker.pattern, picker.locale);\r\n          input.value = formatted;\r\n        };\r\n\r\n        var input = document.createElement(\"input\");\r\n        input.name = row.field;\r\n\r\n        var picker = new DayPilot.DatePicker({\r\n          target: input,\r\n          theme: \"navigator_modal\",\r\n          zIndex: form.zIndex + 1,\r\n          resetTarget: false,\r\n          targetAlignment: \"left\",\r\n          onTimeRangeSelect: function(args) {\r\n            interactive.onInput({\"immediate\": true});\r\n          }\r\n        });\r\n\r\n        // required for serialization - to get the normalized value\r\n        input.picker = picker;\r\n        input.className = form.theme + \"_input_date\";\r\n        input.type = \"text\";\r\n        input.onkeydown = function (e) {\r\n          var letcontinue = false;\r\n          switch (e.keyCode) {\r\n            case 13:  // enter\r\n              if (picker.visible) {\r\n                picker.close();\r\n              } else {\r\n                form.doOnKey(\"Enter\");\r\n              }\r\n              break;\r\n            case 27: // escape\r\n              if (picker.visible) {\r\n                picker.close();\r\n              } else {\r\n                form.doOnKey(\"Escape\");\r\n              }\r\n              break;\r\n            case 9:  // tab\r\n              picker.close();\r\n              letcontinue = true;\r\n              break;\r\n            default:\r\n              letcontinue = true;\r\n              break;\r\n          }\r\n          if (!letcontinue) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }\r\n        };\r\n\r\n        input.onfocus = function () {\r\n          picker.show();\r\n        };\r\n\r\n        input.onclick = function () {\r\n          picker.show();\r\n        };\r\n\r\n/*\r\n        input.onblur = function () {\r\n          // input.picker.close();\r\n        };\r\n*/\r\n\r\n        input.oninput = function(e) {\r\n          interactive.onInput();\r\n        };\r\n        input.onblur = function(e) {\r\n          interactive.onBlur();\r\n        }\r\n\r\n        interactive.element = input;\r\n        interactive.picker = picker;\r\n        interactive.canFocus = function() {\r\n          return !interactive.element.disabled;\r\n        };\r\n        interactive.focus = function () {\r\n          interactive.element.focus();\r\n        };\r\n        interactive.save = function() {\r\n          var value = picker.date ? picker.date.toString() : null;\r\n          var result = {};\r\n          result[row.field] = value;\r\n          return result;\r\n        };\r\n        return interactive;\r\n      },\r\n      \"time\": function () {\r\n        return form._createInteractiveTime(row);\r\n      },\r\n      \"datetime\": function() {\r\n        return form._createInteractiveDateTime(row);\r\n      },\r\n      \"select\": function () {\r\n        var interactive = new Interactive();\r\n        interactive.apply = function (row) {\r\n          interactive.row = row;\r\n          var select = interactive.element;\r\n\r\n          select.value = row.value;\r\n          select.disabled = !row.enabled;\r\n        };\r\n\r\n        var select = document.createElement(\"select\");\r\n        select.name = row.field;\r\n\r\n        var disableParents = row.data.disableParents || false;\r\n\r\n        if (row.data.options && row.data.options.forEach) {\r\n          row.data.options.forEach(function (item) {\r\n            addOption(item, 0);\r\n          });\r\n        }\r\n\r\n        function addOption(item, level) {\r\n          var indent = \"\";\r\n          for (var i = 0; i < level; i++) { indent += \"&nbsp;&nbsp;\"; }\r\n\r\n          var option = document.createElement(\"option\");\r\n          option.innerHTML = indent + escapeHtml(item.name || item.id);\r\n          option.value = item.id;\r\n          option._originalValue = item.id;\r\n          // option.style.textIndent = (level * 10) + \"px\";\r\n          select.appendChild(option);\r\n\r\n          if (item.children) {\r\n            if (disableParents) {\r\n              option.disabled = true;\r\n            }\r\n            item.children.forEach(function (child) {\r\n              addOption(child, level + 1);\r\n            });\r\n          }\r\n        }\r\n\r\n        function escapeHtml(html) {\r\n          var div = document.createElement(\"div\");\r\n          div.innerText = html;\r\n          return div.innerHTML;\r\n        }\r\n\r\n        select.onchange = function(e) {\r\n          interactive.onInput({\"immediate\": true});\r\n        };\r\n        select.onblur = function(e) {\r\n          interactive.onBlur();\r\n        };\r\n\r\n        interactive.element = select;\r\n        interactive.canFocus = function() {\r\n          return !interactive.element.disabled;\r\n        };\r\n        interactive.focus = function () {\r\n          interactive.element.focus();\r\n        };\r\n        interactive.save = function() {\r\n          var value = null;\r\n          var option = select.options[select.selectedIndex];\r\n          if (option && typeof option._originalValue !== \"undefined\") {\r\n            value = option._originalValue;\r\n          }\r\n          var result = {};\r\n          result[row.field] = value;\r\n          return result;\r\n        };\r\n\r\n        return interactive;\r\n\r\n      },\r\n      \"searchable\": function () {\r\n        var interactive = new Interactive();\r\n        interactive.apply = function (row) {\r\n          interactive.row = row;\r\n          var searchable = interactive.searchable;\r\n\r\n          searchable.disabled = !row.enabled;\r\n          searchable.select(row.value);\r\n        };\r\n\r\n        var searchable = new Searchable({\r\n          data: row.data.options || [],\r\n          name: row.field,\r\n          theme: form.theme + \"_form_item_searchable\",\r\n          listZIndex: form.zIndex + 1,\r\n          // disabled: !row.enabled\r\n          onSelect: function(args) {\r\n            if (args.ui) {\r\n              interactive.onInput({\"immediate\": true});\r\n            }\r\n          }\r\n        });\r\n\r\n        var element = searchable.create();\r\n\r\n        interactive.element = element;\r\n        interactive.searchable = searchable;\r\n        interactive.canFocus = function() {\r\n          return !interactive.searchable.disabled;\r\n        };\r\n        interactive.focus = function () {\r\n          interactive.searchable.focus();\r\n        };\r\n        interactive.save = function() {\r\n          var value = searchable.selected && searchable.selected.id;\r\n          var result = {};\r\n          result[row.field] = value;\r\n          return result;\r\n        };\r\n\r\n        return interactive;\r\n      },\r\n      \"radio\": function () {\r\n        var interactive = new Interactive();\r\n        interactive.apply = function (row) {\r\n          interactive.row = row;\r\n          var radio = interactive.radio;\r\n\r\n          radio.checked = row.checked;\r\n          radio.disabled = !row.enabled;\r\n        };\r\n\r\n        var label = document.createElement(\"label\");\r\n\r\n        var radio = document.createElement(\"input\");\r\n        radio.type = \"radio\";\r\n        radio.name = row.field;\r\n        radio._originalValue = row.resolved;\r\n\r\n        radio.onchange = function (ev) {\r\n          // activation only\r\n\r\n          var row = interactive.row;\r\n          form.findRowsByField(row.field).forEach(function (row) {\r\n            form.updateState(row, {\r\n              checked: false\r\n            });\r\n          });\r\n          form.updateState(row, {\r\n            checked: true\r\n          });\r\n\r\n          form.applyState();\r\n\r\n          interactive.onInput({\"immediate\": true});\r\n        };\r\n\r\n        radio.onblur = function(e) {\r\n          interactive.onBlur();\r\n        };\r\n\r\n        label.appendChild(radio);\r\n\r\n        var text = document.createTextNode(row.text);\r\n        label.append(text);\r\n\r\n        interactive.element = label;\r\n        interactive.radio = radio;\r\n        interactive.canFocus = function() {\r\n          return false;\r\n        };\r\n        interactive.focus = function () {\r\n          interactive.radio.focus();\r\n        }\r\n        interactive.save = function() {\r\n          if (!radio.checked) {\r\n            return {};\r\n          }\r\n          var value = radio._originalValue;\r\n          var result = {};\r\n          result[row.field] = value;\r\n          return result;\r\n        };\r\n\r\n        return interactive;\r\n      },\r\n      \"checkbox\": function () {\r\n        var interactive = new Interactive();\r\n        interactive.apply = function (row) {\r\n          interactive.row = row;\r\n          var checkbox = interactive.checkbox;\r\n\r\n          checkbox.checked = row.checked;\r\n          checkbox.disabled = !row.enabled;\r\n        };\r\n\r\n        var label = document.createElement(\"label\");\r\n\r\n        var checkbox = document.createElement(\"input\");\r\n        checkbox.type = \"checkbox\";\r\n        checkbox.name = row.field;\r\n        checkbox._originalValue = row.resolved;\r\n\r\n        checkbox.onchange = function (ev) {\r\n          var row = interactive.row;\r\n          form.updateState(row, {\r\n            checked: this.checked\r\n          });\r\n          form.applyState();\r\n\r\n          interactive.onInput({\"immediate\": true});\r\n        };\r\n\r\n        checkbox.onblur = function(e) {\r\n          interactive.onBlur();\r\n        };\r\n\r\n        label.appendChild(checkbox);\r\n\r\n        var text = document.createTextNode(row.text);\r\n        label.append(text);\r\n\r\n        interactive.element = label;\r\n        interactive.checkbox = checkbox;\r\n        interactive.canFocus = function() {\r\n          return false;\r\n        };\r\n        interactive.focus = function () {\r\n          interactive.checkbox.focus();\r\n        }\r\n        interactive.save = function() {\r\n          var value = checkbox.checked;\r\n          var result = {};\r\n          result[row.field] = value;\r\n          return result;\r\n        };\r\n\r\n        return interactive;\r\n      },\r\n      \"table\": function() {\r\n        var interactive = new Interactive();\r\n        interactive.apply = function (row) {\r\n          interactive.row = row;\r\n          var table = interactive.table;\r\n\r\n          table.disabled = !row.enabled;\r\n          table.load(row.value || []);\r\n\r\n/*\r\n          if (row.value) {\r\n            table.load(row.value);\r\n          }\r\n*/\r\n        };\r\n\r\n        var table = new Table({\r\n          name: row.field,\r\n          // form: row.data.columns,\r\n          form: form,\r\n          theme: form.theme + \"_form_item_tabular\",\r\n          item: row.data,\r\n          onInput: function(args) {\r\n            interactive.onInput();\r\n          }\r\n        });\r\n\r\n        var element = table.create();\r\n\r\n        interactive.element = element;\r\n        interactive.table = table;\r\n        interactive.canFocus = function() {\r\n          // return !interactive.table.disabled;\r\n          return false;\r\n        };\r\n        interactive.focus = function () {\r\n          interactive.table.focus();\r\n        };\r\n        interactive.save = function() {\r\n          var value = table.save();\r\n          var result = {};\r\n          result[row.field] = value;\r\n          return result;\r\n        };\r\n\r\n        return interactive;\r\n      }\r\n    };\r\n    if (form.plugins && form.plugins[row.type]) {\r\n      return form.plugins[row.type](row);\r\n    }\r\n    return views[row.type]();\r\n  };\r\n\r\n  Form.prototype._createInteractiveTime = function(row) {\r\n    var form = this;\r\n    var interactive = new Interactive();\r\n    interactive.apply = function (row) {\r\n      interactive.row = row;\r\n      var searchable = interactive.searchable;\r\n\r\n      searchable.disabled = !row.enabled;\r\n      searchable.select(row.value);\r\n    };\r\n\r\n    var data = [];\r\n\r\n    var interval = row.data.timeInterval || 15;  // allowed values: 1, 5, 10, 15, 20, 30, 60\r\n    var allowedIntervals = [1, 5, 10, 15, 20, 30, 60];\r\n    if (!allowedIntervals.includes(interval)) {\r\n      interval = 15;\r\n    }\r\n    var perHour = 60 / interval;\r\n\r\n    var localeStr = row.data.locale || form.locale;\r\n    var locale = DayPilot.Locale.find(localeStr) || DayPilot.Locale.US;\r\n\r\n    var date = DayPilot.Date.today();\r\n\r\n    for (var i = 0; i < 24*perHour; i++) {\r\n      var time = date.addMinutes(interval*i);\r\n      var item = {};\r\n      item.name = time.toString(row.data.timeFormat || locale.timePattern, locale);\r\n      item.id = time.toString(\"HH:mm\");\r\n      data.push(item);\r\n    }\r\n\r\n    var searchable = new Searchable({\r\n      data: data,\r\n      name: row.field,\r\n      theme: form.theme + \"_form_item_time\",\r\n      listZIndex: form.zIndex + 1,\r\n      strategy: \"startsWith\",\r\n      // disabled: !row.enabled\r\n      onSelect: function(args) {\r\n        if (args.ui) {\r\n          interactive.onInput({\"immediate\": true});\r\n        }\r\n      }\r\n    });\r\n\r\n    var element = searchable.create();\r\n\r\n    interactive.element = element;\r\n    interactive.searchable = searchable;\r\n    interactive.canFocus = function() {\r\n      return !interactive.searchable.disabled;\r\n    };\r\n    interactive.focus = function () {\r\n      interactive.searchable.focus();\r\n    };\r\n    interactive.save = function() {\r\n      var value = searchable.selected && searchable.selected.id;\r\n      var result = {};\r\n      result[row.field] = value;\r\n      return result;\r\n    };\r\n\r\n    return interactive;\r\n\r\n  };\r\n\r\n  Form.prototype._createInteractiveDateTime = function(row) {\r\n    var form = this;\r\n    var interactive = new Interactive();\r\n    interactive.apply = function (row) {\r\n      interactive.row = row;\r\n      var searchable = interactive.searchable;\r\n\r\n      searchable.disabled = !row.enabled;\r\n\r\n      var timePart = new DayPilot.Date(row.value).toString(\"HH:mm\");\r\n\r\n      searchable.select(timePart);\r\n\r\n      var input = interactive.dateInput;\r\n      var picker = interactive.picker;\r\n\r\n      if (row.data.dateFormat) {\r\n        picker.pattern = row.data.dateFormat;\r\n      }\r\n      var localeStr = row.data.locale || form.locale;\r\n      if (localeStr) {\r\n        var locale = DayPilot.Locale.find(localeStr) || DayPilot.Locale.US;\r\n        picker.locale = localeStr;\r\n        picker.pattern = locale.datePattern;\r\n      }\r\n\r\n      input.disabled = !row.enabled;\r\n\r\n      picker.date = new DayPilot.Date(row.value);\r\n      var formatted = new DayPilot.Date(row.value).toString(row.data.dateFormat || picker.pattern, picker.locale);\r\n      input.value = formatted;\r\n\r\n    };\r\n\r\n    var dateElement = (function createDatePicker() {\r\n      var input = document.createElement(\"input\");\r\n      input.name = row.field;\r\n\r\n      var picker = new DayPilot.DatePicker({\r\n        target: input,\r\n        theme: \"navigator_modal\",\r\n        zIndex: form.zIndex + 1,\r\n        resetTarget: false,\r\n        targetAlignment: \"left\",\r\n        onTimeRangeSelect: function(args) {\r\n          interactive.onInput({\"immediate\": true});\r\n        }\r\n      });\r\n\r\n      // required for serialization - to get the normalized value\r\n      input.picker = picker;\r\n      input.className = form.theme + \"_input_date\";\r\n      input.type = \"text\";\r\n      input.onkeydown = function (e) {\r\n        var letcontinue = false;\r\n        switch (e.keyCode) {\r\n          case 13:  // enter\r\n            if (picker.visible) {\r\n              picker.close();\r\n            } else {\r\n              form.doOnKey(\"Enter\");\r\n            }\r\n            break;\r\n          case 27: // escape\r\n            if (picker.visible) {\r\n              picker.close();\r\n            } else {\r\n              form.doOnKey(\"Escape\");\r\n            }\r\n            break;\r\n          case 9:  // tab\r\n            picker.close();\r\n            letcontinue = true;\r\n            break;\r\n          default:\r\n            letcontinue = true;\r\n            break;\r\n        }\r\n        if (!letcontinue) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }\r\n      };\r\n\r\n      input.onfocus = function () {\r\n        picker.show();\r\n      };\r\n\r\n      input.onclick = function () {\r\n        picker.show();\r\n      };\r\n\r\n      input.oninput = function(e) {\r\n        interactive.onInput();\r\n      };\r\n      input.onblur = function(e) {\r\n        interactive.onBlur();\r\n      }\r\n\r\n      interactive.dateInput = input;\r\n      interactive.picker = picker;\r\n\r\n      return input;\r\n    })();\r\n\r\n\r\n    var timeElement = (function createTimePicker() {\r\n      var data = [];\r\n\r\n      var interval = row.data.timeInterval || 15;  // allowed values: 1, 5, 10, 15, 20, 30, 60\r\n      var allowedIntervals = [1, 5, 10, 15, 20, 30, 60];\r\n      if (!allowedIntervals.includes(interval)) {\r\n        interval = 15;\r\n      }\r\n      var perHour = 60 / interval;\r\n\r\n      var localeStr = row.data.locale || form.locale;\r\n      var locale = DayPilot.Locale.find(localeStr) || DayPilot.Locale.US;\r\n\r\n      var date = DayPilot.Date.today();\r\n\r\n      for (var i = 0; i < 24*perHour; i++) {\r\n        var time = date.addMinutes(interval*i);\r\n        var item = {};\r\n        item.name = time.toString(row.data.timeFormat || locale.timePattern, locale);\r\n        item.id = time.toString(\"HH:mm\");\r\n        data.push(item);\r\n      }\r\n\r\n      var searchable = new Searchable({\r\n        data: data,\r\n        name: row.field,\r\n        theme: form.theme + \"_form_item_time\",\r\n        listZIndex: form.zIndex + 1,\r\n        strategy: \"startsWith\",\r\n        // disabled: !row.enabled\r\n        onSelect: function(args) {\r\n          if (args.ui) {\r\n            interactive.onInput({\"immediate\": true});\r\n          }\r\n        }\r\n      });\r\n\r\n      interactive.searchable = searchable;\r\n      return searchable.create();\r\n\r\n    })();\r\n\r\n\r\n    var element = document.createElement(\"div\");\r\n    element.className = form.theme + \"_form_item_datetime_parent\";\r\n    element.appendChild(dateElement);\r\n    element.appendChild(timeElement);\r\n\r\n    interactive.element = element;\r\n    interactive.canFocus = function() {\r\n      return !interactive.searchable.disabled;\r\n    };\r\n    interactive.focus = function () {\r\n      interactive.dateInput.focus();\r\n    };\r\n    interactive.save = function() {\r\n      var timeValue = interactive.searchable.selected && interactive.searchable.selected.id;\r\n      var dateValue = interactive.picker.date ? interactive.picker.date.toString() : null;\r\n\r\n      var date = new DayPilot.Date(dateValue).getDatePart();\r\n      var value = DayPilot.Date.parse(date.toString(\"yyyy-dd-MM \") + timeValue, \"yyyy-dd-MM HH:mm\");\r\n\r\n      var result = {};\r\n      result[row.field] = value;\r\n      return result;\r\n\r\n    };\r\n\r\n    return interactive;\r\n\r\n  };\r\n\r\n  Form.prototype.findRowsByField = function (field) {\r\n    return this._rows.filter(function (row) {\r\n      return row.field === field;\r\n    });\r\n  };\r\n\r\n  // ooptional value param applies to radio which can have multiple views, one for each value\r\n  Form.prototype.findViewById = function (id, value) {\r\n    return this._views.find(function (v) {\r\n      if (v.row.field === id) {\r\n        if (v.row.type === \"radio\") {\r\n          return v.row.resolved === value;\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    });\r\n  };\r\n\r\n  Form.prototype.firstFocusable = function () {\r\n    return this._views.find(function (v) {\r\n      return v.canFocus && v.canFocus();\r\n    });\r\n  };\r\n\r\n  Form.prototype.updateState = function (row, props) {\r\n    var source = this._newRows ? this._newRows : this._rows;\r\n    var index = source.indexOf(row);\r\n    this._newRows = source.map(function (srow) {\r\n      if (srow !== row) {\r\n        return srow;\r\n      }\r\n      // our row\r\n      if (row.propsEqual(props)) {\r\n        return row;\r\n      }\r\n      var cloned = row.clone();\r\n      for (var name in props) {\r\n        cloned[name] = props[name];\r\n      }\r\n      return cloned;\r\n    });\r\n    return this._newRows[index];\r\n  };\r\n\r\n  // dirty row received, a member of _newRows\r\n  Form.prototype.updateInteractive = function (row) {\r\n    var index = this._newRows.indexOf(row);\r\n    this._views[index].apply(row);\r\n  };\r\n\r\n  Form.prototype.applyState = function () {\r\n    var form = this;\r\n\r\n    this.updateDependentState();\r\n\r\n    if (!this._newRows) {\r\n      return;\r\n    }\r\n\r\n    var dirtyRows = this._newRows.filter(function (row, i) {\r\n      return form._rows[i] !== row;\r\n    });\r\n\r\n    dirtyRows.forEach(function (row) {\r\n      form.updateInteractive(row);\r\n    });\r\n\r\n    this._rows = this._newRows;\r\n\r\n    this._newRows = null;\r\n  };\r\n\r\n  Form.prototype.getFieldType = function (item) {\r\n\r\n    var known = [\"text\", \"date\", \"select\", \"searchable\", \"radio\", \"checkbox\", \"table\", \"title\", \"image\", \"html\", \"textarea\", \"scrollable\", \"time\", \"datetime\"];\r\n    if (known.indexOf(item.type) !== -1) {\r\n      return item.type;\r\n    }\r\n\r\n    if (item.type && this.plugins && this.plugins[item.type]) {\r\n      return item.type;\r\n    }\r\n\r\n    if (item.image) {\r\n      return \"image\";\r\n    }\r\n\r\n    if (item.html || item.text) {\r\n      return \"html\";\r\n    }\r\n\r\n    if (!item.id) {\r\n      return \"title\";\r\n    }\r\n\r\n    if (item.options) {\r\n      return \"searchable\";\r\n    }\r\n\r\n    if (item.dateFormat) {\r\n      return \"date\";\r\n    }\r\n\r\n    if (item.columns) {\r\n      return \"table\";\r\n    }\r\n\r\n    return \"text\";\r\n  };\r\n\r\n  Form.prototype.serialize = function() {\r\n      var result = {};\r\n\r\n      this._views.forEach(function(interactive) {\r\n        var out = interactive.save();\r\n        for (var name in out) {\r\n          result[name] = out[name];\r\n        }\r\n      });\r\n\r\n      return result;\r\n  };\r\n\r\n  var RowModel = function () {\r\n    this.id = this.guid();\r\n    this.field = null;\r\n    this.data = null;\r\n    this.type = null;\r\n    this.level = 0;\r\n    this.enabled = true;\r\n    this.value = null;\r\n    this.text = null;\r\n\r\n    this.interactive = true;\r\n\r\n    this.isValue = false;\r\n    this.checked = false;\r\n    this.resolved = null;  // value resolves to\r\n  };\r\n\r\n  RowModel.prototype.clone = function () {\r\n    var rm = new RowModel();\r\n    for (var name in this) {\r\n      if (name === \"id\") {\r\n        continue;\r\n      }\r\n      rm[name] = this[name];\r\n    }\r\n    return rm;\r\n  };\r\n\r\n  RowModel.prototype.propsEqual = function (props) {\r\n    for (var name in props) {\r\n      if (this[name] !== props[name]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  RowModel.prototype.guid = function () {\r\n    var S4 = function () {\r\n      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    };\r\n    return (\"\" + S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\r\n  };\r\n\r\n  RowModel.prototype.applyValue = function (name, value) {\r\n    if (this.field !== name) {\r\n      return;\r\n    }\r\n    this.value = value;\r\n    if (this.isValue && value === this.resolved) {\r\n      this.checked = true;\r\n    }\r\n  };\r\n\r\n  var Interactive = function () {\r\n    // this.row = row;\r\n    this.element = null;\r\n\r\n    // only used for autofocus\r\n    this.canFocus = function() {\r\n      return false;\r\n    };\r\n    this.apply = function (row) {\r\n    };\r\n    this.focus = function () {\r\n    };\r\n    this.save = function() {\r\n      return {};\r\n    }\r\n  };\r\n\r\n  function flatten(object, result, prefix) {\r\n    result = result || {};\r\n    prefix = prefix || \"\";\r\n    for (var name in object) {\r\n      var src = object[name];\r\n      if (typeof src === \"object\") {\r\n        if (Object.prototype.toString.call(src) === '[object Array]') {\r\n          result[prefix + name] = src;\r\n        }\r\n        else if (src && src.toJSON) {\r\n          result[prefix + name] = src.toJSON();\r\n        }\r\n        else {\r\n          flatten(src, result, prefix + name + \".\");\r\n        }\r\n      }\r\n      else {\r\n        result[prefix + name] = src;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  DayPilot.Form = Form;\r\n\r\n})(local);\r\n\r\nconst {Form} = local;\r\nexport {Form};\r\n", "/*\r\nCopyright (c) 2010 - 2020 Annpoint, s.r.o.\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\nhttp://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\n-------------------------------------------------------------------------\r\n\r\nNOTE: Requires the following acknowledgement (see also NOTICE):\r\n\r\nThis product includes DayPilot Modal (https://modal.daypilot.org).\r\n\r\n*/\r\n\r\nimport {Form} from \"./form\";\r\n\r\nvar local = {};\r\n\r\n(function(DayPilot) {\r\n    'use strict';\r\n\r\n    if (DayPilot.ModalStatic) {\r\n        return;\r\n    }\r\n\r\n    DayPilot.ModalStatic = {};\r\n\r\n    DayPilot.ModalStatic.list = [];\r\n\r\n    // hide the last one\r\n    DayPilot.ModalStatic.hide = function() {\r\n        if (this.list.length > 0) {\r\n            var last = this.list.pop();\r\n            if (last) {\r\n                last.hide();\r\n            }\r\n        }\r\n    };\r\n\r\n    DayPilot.ModalStatic.remove = function(modal) {\r\n        var list = DayPilot.ModalStatic.list;\r\n        for (var i = 0; i < list.length; i++) {\r\n            if (list[i] === modal) {\r\n                list.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n\r\n    DayPilot.ModalStatic.close = function(result) {\r\n        DayPilot.ModalStatic.result(result);\r\n        DayPilot.ModalStatic.hide();\r\n    };\r\n\r\n    DayPilot.ModalStatic.result = function(r) {\r\n        var list = DayPilot.ModalStatic.list;\r\n        if (list.length > 0) {\r\n            list[list.length - 1].result = r;\r\n        }\r\n    };\r\n\r\n    DayPilot.ModalStatic.displayed = function(modal) {\r\n        var list = DayPilot.ModalStatic.list;\r\n        for (var i = 0; i < list.length; i++) {\r\n            if (list[i] === modal) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    DayPilot.ModalStatic.stretch = function() {\r\n        if (this.list.length > 0) {\r\n            var last = this.list[this.list.length - 1];\r\n            if (last) {\r\n                last.stretch();\r\n            }\r\n        }\r\n    };\r\n\r\n    DayPilot.ModalStatic.last = function() {\r\n        var list = DayPilot.ModalStatic.list;\r\n        if (list.length > 0) {\r\n            return list[list.length - 1];\r\n        }\r\n        return null;\r\n    };\r\n\r\n    var Sheet = function() {\r\n        var style = document.createElement(\"style\");\r\n        style.setAttribute(\"type\", \"text/css\");\r\n        if (!style.styleSheet) {   // ie\r\n            style.appendChild(document.createTextNode(\"\"));\r\n        }\r\n\r\n        var h = document.head || document.getElementsByTagName('head')[0];\r\n        h.appendChild(style);\r\n\r\n        var oldStyle = !! style.styleSheet; // old ie\r\n\r\n        var sheet = {};\r\n        sheet.rules = [];\r\n        sheet.commit = function() {\r\n            try {\r\n                if (oldStyle) {\r\n                    style.styleSheet.cssText = this.rules.join(\"\\n\");\r\n                }\r\n            }\r\n            catch (e) {\r\n                //alert(\"Error registering the built-in stylesheet (IE stylesheet limit reached). Stylesheet count: \" + document.styleSheets.length);\r\n            }\r\n        };\r\n\r\n        sheet.add = function(selector, rules, index) {\r\n            if (oldStyle) {\r\n                this.rules.push(selector + \"{\" + rules + \"\\u007d\");\r\n                return;\r\n            }\r\n            if(style.sheet.insertRule) {  // normal browsers, ie9+\r\n                if (typeof index === \"undefined\") {\r\n                    index = style.sheet.cssRules.length;\r\n                }\r\n                style.sheet.insertRule(selector + \"{\" + rules + \"\\u007d\", index);\r\n            }\r\n            else if (style.sheet.addRule) {\r\n                style.sheet.addRule(selector, rules, index);\r\n            }\r\n            else {\r\n                throw \"No CSS registration method found\";\r\n            }\r\n        };\r\n        return sheet;\r\n    };\r\n\r\n    var iconCalendar = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==\";\r\n    var iconExpand = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K\";\r\n\r\n    var sheet = new Sheet();\r\n    sheet.add(\".modal_default_main\", \"border: 10px solid #ccc; max-width: 90%;\");\r\n    sheet.add(\".modal_default_main:focus\", \"outline: none;\");\r\n    sheet.add(\".modal_default_content\", \"padding: 10px 0px;\");\r\n    sheet.add(\".modal_default_inner\", \"padding: 20px;\");\r\n    sheet.add(\".modal_default_input\", \"padding: 10px 0px;\");\r\n    sheet.add(\".modal_default_buttons\", \"margin-top: 10px;\");\r\n    sheet.add(\".modal_default_buttons\", \"padding: 10px 0px;\");\r\n    sheet.add(\".modal_default_form_item\", \"padding: 10px 0px; position: relative;\");\r\n    sheet.add(\".modal_default_form_item_level1\", \"border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;\");\r\n    sheet.add(\".modal_default_form_item.modal_default_form_title\", \"font-size: 1.5rem; font-weight: bold;\");\r\n    sheet.add(\".modal_default_form_item input[type=text]\", \"width: 100%; box-sizing: border-box;\");\r\n    sheet.add(\".modal_default_form_item textarea\", \"width: 100%; height: 200px; box-sizing: border-box;\");\r\n    sheet.add(\".modal_default_form_item input[type=select]\", \"width: 100%; box-sizing: border-box;\");\r\n    sheet.add(\".modal_default_form_item label\", \"display: block;\");\r\n    sheet.add(\".modal_default_form_item select\", \"width: 100%; box-sizing: border-box;\");\r\n    sheet.add(\".modal_default_form_item_label\", \"margin: 2px 0px;\");\r\n    sheet.add(\".modal_default_form_item_image img\", \"max-width: 100%; height: auto;\");\r\n\r\n    sheet.add(\".modal_default_form_item_invalid\", \"\");\r\n    sheet.add(\".modal_default_form_item_invalid_message\", \"position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;\");\r\n\r\n    sheet.add(\".modal_default_background\", \"opacity: 0.5; background-color: #000;\");\r\n    sheet.add(\".modal_default_ok\", \"padding: 3px; width: 80px;\");\r\n    sheet.add(\".modal_default_cancel\", \"padding: 3px; width: 80px;\");\r\n\r\n    sheet.add(\".modal_default_form_item_date\", \"position: relative;\");\r\n    sheet.add(\".modal_default_form_item_date:after\", \"content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(\" + iconCalendar + \")\");\r\n\r\n    if (navigator.userAgent.indexOf(\"Edge\") !== -1) {\r\n        sheet.add(\".modal_default_form_item_date input::-ms-clear\", \"display: none;\");\r\n    }\r\n\r\n    sheet.add(\".modal_default_form_item_scrollable_scroll\", \"width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;\");\r\n    sheet.add(\".modal_default_form_item_scrollable_scroll_content\", \"padding: 5px;\");\r\n\r\n    sheet.add(\".modal_default_form_item_searchable\", \"position: relative;\");\r\n    sheet.add(\".modal_default_form_item_searchable_icon\", \"\");\r\n    sheet.add(\".modal_default_form_item_searchable_icon:after\", \"content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(\" + iconExpand + \");\");\r\n    sheet.add(\".modal_default_form_item_searchable_list\", \"box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;\");\r\n    sheet.add(\".modal_default_form_item_searchable_list_item\", \"background: white; padding: 2px; cursor: default;\");\r\n    sheet.add(\".modal_default_form_item_searchable_list_item_highlight\", \"background: #ccc;\");\r\n\r\n    sheet.add(\".modal_default_form_item_time\", \"position: relative;\");\r\n    sheet.add(\".modal_default_form_item_time_icon\", \"\");\r\n    sheet.add(\".modal_default_form_item_time_icon:after\", \"content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(\" + iconExpand + \");\");\r\n    sheet.add(\".modal_default_form_item_time_list\", \"box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;\");\r\n    sheet.add(\".modal_default_form_item_time_list_item\", \"background: white; padding: 2px; cursor: default;\");\r\n    sheet.add(\".modal_default_form_item_time_list_item_highlight\", \"background: #ccc;\");\r\n\r\n    sheet.add(\".modal_default_form_item_datetime_parent\", \"display: flex;\");\r\n    sheet.add(\".modal_default_form_item_datetime .modal_default_form_item_time_main\", \"margin-left: 5px;\");\r\n    sheet.add(\".modal_default_form_item_datetime input[type='text'].modal_default_input_date \", \"\");\r\n\r\n    sheet.add(\".modal_default_form_item_tabular_main\", \"margin-top: 10px;\");\r\n    sheet.add(\".modal_default_form_item_tabular_table\", \"display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;\");\r\n    sheet.add(\".modal_default_form_item_tabular_tbody\", \"display: table-row-group;\");\r\n    sheet.add(\".modal_default_form_item_tabular_row\", \"display: table-row;\");\r\n    sheet.add(\".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header\", \"\");  // used to be bold\r\n    sheet.add(\".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction\", \"padding: 0px; width: 23px;\");  // _delete: width + marginLeft\r\n    sheet.add(\".modal_default_form_item_tabular_cell\", \"display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;\");\r\n    sheet.add(\".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell\", \"padding-left: 0px; padding-bottom: 0px;\");\r\n    sheet.add(\".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]\", \"width:100%; box-sizing: border-box;\");\r\n    sheet.add(\".modal_default_form_item_tabular_table select\", \"width:100%; height:100%; box-sizing: border-box;\");\r\n    sheet.add(\".modal_default_form_item_tabular_plus\", \"display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;\");\r\n    sheet.add(\".modal_default_form_item_tabular_plus:after\", \"content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\\\")\");\r\n    sheet.add(\".modal_default_form_item_tabular_delete\", \"display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;\");\r\n    sheet.add(\".modal_default_form_item_tabular_delete:after\", \"content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\\\")\");\r\n    sheet.add(\".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus\", \"display: none;\");\r\n    sheet.add(\".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus\", \"display: none;\");\r\n    sheet.add(\".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete\", \"visibility: hidden;\");\r\n    sheet.add(\".modal_default_form_item_tabular_empty\", \"height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;\");\r\n    sheet.add(\".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell\", \"padding: 0px;\");\r\n\r\n    sheet.add(\".modal_min_main\", \"border: 1px solid #ccc; max-width: 90%;\");\r\n    sheet.add(\".modal_min_background\", \"opacity: 0.5; background-color: #000;\");\r\n    sheet.add(\".modal_min_ok\", \"padding: 3px 10px;\");\r\n    sheet.add(\".modal_min_cancel\", \"padding: 3px 10px;\");\r\n\r\n\r\n    sheet.add(\".navigator_modal_main\", \"border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;\");\r\n    sheet.add(\".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after\", \"box-sizing: content-box;\");\r\n    sheet.add(\".navigator_modal_month\", \"font-size: 11px;\");\r\n    sheet.add(\".navigator_modal_day\", \"color: black;\");\r\n    sheet.add(\".navigator_modal_weekend\", \"background-color: #f0f0f0;\");\r\n    sheet.add(\".navigator_modal_dayheader\", \"color: black;\");\r\n    sheet.add(\".navigator_modal_line\", \"border-bottom: 1px solid #c0c0c0;\");\r\n    sheet.add(\".navigator_modal_dayother\", \"color: gray;\");\r\n    sheet.add(\".navigator_modal_todaybox\", \"border: 1px solid red;\");\r\n    sheet.add(\".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright\", 'border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;');\r\n    sheet.add(\".navigator_modal_busy\", \"font-weight: bold;\");\r\n    sheet.add(\".navigator_modal_cell\", \"text-align: center;\");\r\n    sheet.add(\".navigator_modal_select .navigator_modal_cell_box\", \"background-color: #FFE794; opacity: 0.5;\");\r\n    sheet.add(\".navigator_modal_title\", \"text-align: center;\");\r\n    sheet.add(\".navigator_modal_titleleft, .navigator_modal_titleright\", \"text-align: center;\");\r\n    sheet.add(\".navigator_modal_dayheader\", \"text-align: center;\");\r\n    sheet.add(\".navigator_modal_weeknumber\", \"text-align: center;\");\r\n    sheet.add(\".navigator_modal_cell_text\", \"cursor: pointer;\");\r\n\r\n    sheet.commit();\r\n\r\n    //var isIE = (navigator && navigator.userAgent && navigator.userAgent.indexOf(\"MSIE\") !== -1);\r\n\r\n    DayPilot.Modal = function(options) {\r\n\r\n        // default values\r\n        this.autoFocus = true;\r\n        this.focus = null; // field to be focused - field id as string or {id, value}\r\n        this.autoStretch = true;  // height will be increased automatically to avoid scrollbar, until this.maxHeight is reached\r\n        this.autoStretchFirstLoadOnly = false;\r\n        this.className = null;\r\n        this.theme = \"modal_default\";\r\n        this.disposeOnClose = true;\r\n        this.dragDrop = true;\r\n        this.loadingHtml = null;\r\n        this.maxHeight = null; // if not set, it will stretch until the bottom space is equal to this.top\r\n        this.scrollWithPage = true;  // modal window will scroll with the page\r\n        this.useIframe = true; // only for showHtml()\r\n        this.zIndex = 99999;\r\n\r\n        this.left = null;  // will be centered if null\r\n        this.width = 600;\r\n        this.top = 20;\r\n        this.height = 200;  // see also autoStretch\r\n        this.locale = null; // used for DayPilot.Modal.form() items with \"date\" type\r\n\r\n        // event handler\r\n        this.closed = null;\r\n        this.onClose = null;\r\n        this.onClosed = null;\r\n        this.onShow = null;\r\n\r\n        // internal\r\n        var This = this;\r\n        this.id = '_' + new Date().getTime() + 'n' + (Math.random() * 10);\r\n        this._registered = false;\r\n\r\n        // drag&drop\r\n        this._start = null;\r\n        this._coords = null;\r\n\r\n        this.showHtml = function(html) {\r\n\r\n            if (DayPilot.ModalStatic.displayed(this)) {\r\n                throw \"This modal dialog is already displayed.\";\r\n            }\r\n\r\n            if (!this.div) {\r\n                this._create();\r\n            }\r\n            this._update();\r\n\r\n            if (this.useIframe) {\r\n                var delayed = function(p, innerHTML) {\r\n                    return function() {\r\n                        p.setInnerHTML(p.id + \"iframe\", innerHTML);\r\n                    };\r\n                };\r\n\r\n                window.setTimeout(delayed(this, html), 0);\r\n            }\r\n            else {\r\n                if (html.nodeType) {\r\n                    this.div.appendChild(html);\r\n                }\r\n                else {\r\n                    this.div.innerHTML = html;\r\n                }\r\n            }\r\n\r\n            this._update();\r\n            this._register();\r\n            this._doShow();\r\n\r\n        };\r\n\r\n        this.showUrl = function(url) {\r\n\r\n            if (DayPilot.ModalStatic.displayed(this)) {\r\n                throw \"This modal dialog is already displayed.\";\r\n            }\r\n\r\n            //this.useIframe = true; // forced\r\n\r\n            if (this.useIframe) {\r\n                if (!this.div) {\r\n                    this._create();\r\n                }\r\n\r\n                var loadingHtml = this.loadingHtml;\r\n                if (loadingHtml) {\r\n                    this.iframe.src = \"about:blank\";\r\n                    this.setInnerHTML(this.id + \"iframe\", loadingHtml);\r\n                }\r\n\r\n                this.re(this.iframe, \"load\", this._onIframeLoad);\r\n\r\n                this.iframe.src = url;\r\n                //this.iframe.contentWindow.modal = This;\r\n\r\n                this._update();\r\n                this._register();\r\n                this._doShow();\r\n            }\r\n            else {\r\n                This._ajax({\r\n                    \"url\": url,\r\n                    \"success\": function(args) {\r\n                        var html = args.request.responseText;\r\n                        This.showHtml(html);\r\n                    },\r\n                    \"error\": function(args) {\r\n                        This.showHtml(\"Error loading the modal dialog\");\r\n                    }\r\n                });\r\n            }\r\n\r\n        };\r\n\r\n        this._doShow = function() {\r\n            if (typeof This.onShow === \"function\") {\r\n                var args = {};\r\n                args.root = This._body();\r\n                args.modal = This;\r\n                This.onShow(args);\r\n            }\r\n        };\r\n\r\n        this._body = function() {\r\n            return This.iframe ? This.iframe.contentWindow.document : This.div;\r\n        };\r\n\r\n        this._ajax = function(object) {\r\n            var req = new XMLHttpRequest();\r\n            if (!req) {\r\n                return;\r\n            }\r\n\r\n            var method = object.method || \"GET\";\r\n            var success = object.success || function() {};\r\n            var error = object.error || function() {};\r\n            var data = object.data;\r\n            var url = object.url;\r\n\r\n            req.open(method, url, true);\r\n            req.setRequestHeader('Content-type', 'text/plain');\r\n            req.onreadystatechange = function() {\r\n                if (req.readyState !== 4)\r\n                    return;\r\n                if (req.status !== 200 && req.status !== 304) {\r\n                    if (error) {\r\n                        var args = {};\r\n                        args.request = req;\r\n                        error(args);\r\n                    }\r\n                    else {\r\n                        if (window.console) { console.log('HTTP error ' + req.status); }\r\n                    }\r\n                    return;\r\n                }\r\n                var args = {};\r\n                args.request = req;\r\n                success(args);\r\n            };\r\n            if (req.readyState === 4) {\r\n                return;\r\n            }\r\n            if (typeof data === 'object') {\r\n                data = JSON.stringify(data);\r\n            }\r\n            req.send(data);\r\n        };\r\n\r\n        this._update = function() {\r\n\r\n            delete this.result;\r\n\r\n            var win = window;\r\n            var doc = document;\r\n\r\n            var scrollY = win.pageYOffset ? win.pageYOffset : ((doc.documentElement && doc.documentElement.scrollTop) ? doc.documentElement.scrollTop : doc.body.scrollTop);\r\n\r\n            var height = function() {\r\n                return This._windowRect().y;\r\n            };\r\n\r\n            //this.hideDiv.style.height = height() + \"px\";\r\n            if (this.theme) {\r\n                this.hideDiv.className = this.theme + \"_background\";\r\n            }\r\n            if (this.zIndex) {\r\n                this.hideDiv.style.zIndex = this.zIndex;\r\n            }\r\n            this.hideDiv.style.display = '';\r\n\r\n            window.setTimeout(function() {\r\n                if (This.hideDiv) {\r\n                    This.hideDiv.onclick = function() {\r\n                        This.hide({\"backgroundClick\": true});\r\n                    };\r\n                }\r\n            }, 500);\r\n\r\n            if (this.theme) {\r\n                this.div.className = this.theme + \"_main\";\r\n            }\r\n            else {\r\n                this.div.className = \"\";\r\n            }\r\n\r\n            if (this.className) {\r\n                this.div.className += \" \" + this.className;\r\n            }\r\n            if (this.left) {\r\n                this.div.style.left = this.left + \"px\";\r\n            }\r\n            else {\r\n                this.div.style.marginLeft = '-' + Math.floor(this.width / 2) + \"px\";  // '-45%'\r\n            }\r\n            this.div.style.position = 'absolute';\r\n            this.div.style.boxSizing = \"content-box\";\r\n            this.div.style.top = (scrollY + this.top) + 'px';\r\n            this.div.style.width = this.width + 'px';  // '90%'\r\n            if (this.zIndex) {\r\n                this.div.style.zIndex = this.zIndex;\r\n            }\r\n\r\n            if (this.height) {\r\n                if (this.useIframe || !this.autoStretch) {\r\n                    this.div.style.height = this.height + 'px';\r\n                }\r\n                else {\r\n                    this.div.style.height = '';\r\n                }\r\n            }\r\n            if (this.useIframe && this.height) {\r\n                this.iframe.style.height = (this.height) + 'px';\r\n            }\r\n\r\n            this.div.style.display = '';\r\n\r\n            this._updateHorizontal();\r\n\r\n            // make sure it's there just once\r\n            DayPilot.ModalStatic.remove(this);\r\n            DayPilot.ModalStatic.list.push(this);\r\n\r\n            /*\r\n            if (this.iframe) {\r\n            this.iframe.onload = null;\r\n            }\r\n            */\r\n        };\r\n\r\n        this._onIframeLoad = function() {\r\n            This.iframe.contentWindow.modal = This;\r\n            if (This.autoStretch) {\r\n                This.stretch();\r\n            }\r\n        };\r\n\r\n        this.stretch = function() {\r\n            var height = function() {\r\n                return This._windowRect().y;\r\n            };\r\n\r\n            var width = function() {\r\n                return This._windowRect().x;\r\n            };\r\n\r\n\r\n            if (this.useIframe) {\r\n                // width first\r\n                var maxWidth = width() - 40;  // fixed 20px margin\r\n                for (var w = this.width; w < maxWidth && this._hasHorizontalScrollbar(); w += 10) {\r\n                    //this.iframe.style.width = (w) + 'px';\r\n                    this.div.style.width = w + 'px';\r\n                    this.div.style.marginLeft = '-' + Math.floor(w / 2) + \"px\";  //\r\n                }\r\n\r\n                // height\r\n                var maxHeight = this.maxHeight || height() - 2 * this.top;\r\n                for (var h = this.height; h < maxHeight && this._hasVerticalScrollbar(); h += 10) {\r\n                    this.iframe.style.height = (h) + 'px';\r\n                    this.div.style.height = h + 'px';\r\n                }\r\n\r\n                if (this.autoStretchFirstLoadOnly) {\r\n                    this.ue(this.iframe, \"load\", this._onIframeLoad);\r\n                }\r\n            }\r\n            else {\r\n                this.div.style.height = '';\r\n            }\r\n\r\n\r\n        };\r\n\r\n        this._hasHorizontalScrollbar = function() {\r\n            var document = this.iframe.contentWindow.document;\r\n            var root = document.compatMode === 'BackCompat' ? document.body : document.documentElement;\r\n\r\n            var scrollWidth = root.scrollWidth;\r\n            var children = document.body.children;\r\n            for (var i = 0; i < children.length; i++) {\r\n                var bottom = children[i].offsetLeft + children[i].offsetWidth;\r\n                scrollWidth = Math.max(scrollWidth, bottom);\r\n            }\r\n\r\n            var isHorizontalScrollbar = scrollWidth > root.clientWidth;\r\n            return isHorizontalScrollbar;\r\n\r\n        };\r\n\r\n        this._hasVerticalScrollbar = function() {\r\n            var document = this.iframe.contentWindow.document;\r\n            var root = document.compatMode === 'BackCompat' ? document.body : document.documentElement;\r\n\r\n            var scrollHeight = root.scrollHeight;\r\n            var children = document.body.children;\r\n            for (var i = 0; i < children.length; i++) {\r\n                var bottom = children[i].offsetTop + children[i].offsetHeight;\r\n                scrollHeight = Math.max(scrollHeight, bottom);\r\n            }\r\n\r\n            var isVerticalScrollbar =  scrollHeight > root.clientHeight;\r\n            //var isHorizontalScrollbar = root.scrollWidth > root.clientWidth;\r\n            return isVerticalScrollbar;\r\n        };\r\n\r\n        this._windowRect = function() {\r\n            var doc = document;\r\n\r\n            if (doc.compatMode === \"CSS1Compat\" && doc.documentElement && doc.documentElement.clientWidth) {\r\n                var x = doc.documentElement.clientWidth;\r\n                var y = doc.documentElement.clientHeight;\r\n                return { x: x, y: y };\r\n            }\r\n            else {\r\n                var x = doc.body.clientWidth;\r\n                var y = doc.body.clientHeight;\r\n                return { x: x, y: y };\r\n            }\r\n        };\r\n\r\n        this._register = function() {\r\n            if (this._registered) {\r\n                return;\r\n            }\r\n            this.re(window, 'resize', this._onWindowResize);\r\n            this.re(window, 'scroll', this._onWindowScroll);\r\n\r\n            if (this.dragDrop) {\r\n                this.re(document, 'mousemove', this._onMouseMove);\r\n                this.re(document, 'mouseup', this._onMouseUp);\r\n            }\r\n            this._registered = true;\r\n        };\r\n\r\n        this._unregister = function() {\r\n            this.ue(window, 'resize', this._onWindowResize);\r\n            this.ue(window, 'scroll', this._onWindowScroll);\r\n            if (this.dragDrop) {\r\n                this.ue(document, 'mousemove', this._onMouseMove);\r\n                this.ue(document, 'mouseup', this._onMouseUp);\r\n            }\r\n            this._registered = false;\r\n        };\r\n\r\n        this._onDragStart = function(e) {\r\n            if (e.target !== This.div) {\r\n                return;\r\n            }\r\n            e.preventDefault();\r\n            This.div.style.cursor = \"move\";\r\n            This._maskIframe();\r\n            This._coords = This.mc(e || window.event);\r\n            This._start = { x: This.div.offsetLeft, y: This.div.offsetTop };\r\n\r\n        };\r\n\r\n        this._onMouseMove = function(e) {\r\n            if (!This._coords) {\r\n                return;\r\n            }\r\n\r\n            var e = e || window.event;\r\n            var now = This.mc(e);\r\n\r\n            var x = now.x - This._coords.x;\r\n            var y = now.y - This._coords.y;\r\n\r\n            //This.iframe.style.display = 'none';\r\n            This.div.style.marginLeft = '0px';\r\n            This.div.style.top = (This._start.y + y) + \"px\";\r\n            This.div.style.left = (This._start.x + x) + \"px\";\r\n\r\n        };\r\n\r\n        this._onMouseUp = function(e) {\r\n            // no drag&drop\r\n            if (!This._coords) {\r\n                return;\r\n            }\r\n            //This.iframe.style.display = '';\r\n            This._unmaskIframe();\r\n            This.div.style.cursor = null;\r\n\r\n            This._coords = null;\r\n        };\r\n\r\n        this._maskIframe = function() {\r\n            if (!this.useIframe) {\r\n                return;\r\n            }\r\n\r\n            var opacity = 80;\r\n\r\n            var mask = document.createElement(\"div\");\r\n            mask.style.backgroundColor = \"#ffffff\";\r\n            mask.style.filter = \"alpha(opacity=\" + opacity + \")\";\r\n            mask.style.opacity = \"0.\" + opacity;\r\n            mask.style.width = \"100%\";\r\n            mask.style.height = this.height + \"px\";\r\n            mask.style.position = \"absolute\";\r\n            mask.style.left = '0px';\r\n            mask.style.top = '0px';\r\n\r\n            this.div.appendChild(mask);\r\n            this.mask = mask;\r\n        };\r\n\r\n        this._unmaskIframe = function() {\r\n            if (!this.useIframe) {\r\n                return;\r\n            }\r\n\r\n            this.div.removeChild(this.mask);\r\n            this.mask = null;\r\n        };\r\n\r\n        this._onWindowResize = function() {\r\n            This._updateTop();\r\n            This._updateHorizontal();\r\n        };\r\n\r\n        this._onWindowScroll = function() {\r\n            This._updateTop();\r\n        };\r\n\r\n        this._updateHorizontal = function() {\r\n            if (This.left) {\r\n                return;\r\n            }\r\n\r\n            if (!This.div) {\r\n                return;\r\n            }\r\n\r\n            var width = This.div.offsetWidth;\r\n            This.div.style.marginLeft = '-' + Math.floor(width / 2) + \"px\";  // '-45%'\r\n        };\r\n\r\n        this._updateTop = function() {\r\n            if (!This.hideDiv) {\r\n                return;\r\n            }\r\n            if (!This.div) {\r\n                return;\r\n            }\r\n            if (This.hideDiv.style.display === 'none') {\r\n                return;\r\n            }\r\n            if (This.div.style.display === 'none') {\r\n                return;\r\n            }\r\n\r\n            var scrollY = This._parent.scrollY();\r\n\r\n\r\n            //This.hideDiv.style.height = height() + \"px\";\r\n            if (!This.scrollWithPage) {\r\n                This.div.style.top = (scrollY + This.top) + 'px';\r\n            }\r\n        };\r\n\r\n        this._parent = {};\r\n        this._parent.container = function() {\r\n            return This.container || document.body;\r\n        };\r\n        this._parent.scrollY = function() {\r\n            var c = This._parent.container();\r\n            if (c === document.body) {\r\n                return window.pageYOffset ? window.pageYOffset : ((document.documentElement && document.documentElement.scrollTop) ? document.documentElement.scrollTop : document.body.scrollTop);\r\n            }\r\n            else {\r\n                return c.scrollTop;\r\n            }\r\n        };\r\n\r\n        // already available in common.js but this file should be standalone\r\n        this.re = function(el, ev, func) {\r\n            if (el.addEventListener) {\r\n                el.addEventListener(ev, func, false);\r\n            } else if (el.attachEvent) {\r\n                el.attachEvent(\"on\" + ev, func);\r\n            }\r\n        };\r\n\r\n        // unregister event\r\n        this.ue = function(el, ev, func) {\r\n            if (el.removeEventListener) {\r\n                el.removeEventListener(ev, func, false);\r\n            } else if (el.detachEvent) {\r\n                el.detachEvent(\"on\" + ev, func);\r\n            }\r\n        };\r\n\r\n        // mouse coords\r\n        this.mc = function(ev) {\r\n            if (ev.pageX || ev.pageY) {\r\n                return { x: ev.pageX, y: ev.pageY };\r\n            }\r\n            return {\r\n                x: ev.clientX + document.documentElement.scrollLeft,\r\n                y: ev.clientY + document.documentElement.scrollTop\r\n            };\r\n        };\r\n\r\n        // absolute element position on page\r\n        this.abs = function(element) {\r\n            var r = {\r\n                x: element.offsetLeft,\r\n                y: element.offsetTop\r\n            };\r\n\r\n            while (element.offsetParent) {\r\n                element = element.offsetParent;\r\n                r.x += element.offsetLeft;\r\n                r.y += element.offsetTop;\r\n            }\r\n\r\n            return r;\r\n        };\r\n\r\n        this._create = function() {\r\n\r\n            var container = This._parent.container();\r\n            var isRoot = container === document.body;\r\n            var position = isRoot ? \"fixed\" : \"absolute\";\r\n\r\n            var hide = document.createElement(\"div\");\r\n            hide.id = this.id + \"hide\";\r\n            hide.style.position = position;\r\n            hide.style.left = \"0px\";\r\n            hide.style.top = \"0px\";\r\n            hide.style.right = \"0px\";\r\n            hide.style.bottom = \"0px\";\r\n            hide.oncontextmenu = function() { return false; };\r\n            hide.onmousedown = function() { return false; };  // prevent selecting\r\n\r\n            container.appendChild(hide);\r\n\r\n            var div = document.createElement(\"div\");\r\n            div.id = this.id + 'popup';\r\n            div.style.position = position;\r\n            div.style.left = '50%';\r\n            div.style.top = '0px';\r\n            div.style.backgroundColor = 'white';\r\n            div.style.width = \"50px\";\r\n            div.style.height = \"50px\";\r\n            if (this.dragDrop) {\r\n                div.onmousedown = this._onDragStart;\r\n            }\r\n            div.addEventListener(\"keydown\", function(e) {\r\n                // prevent interaaction with the document using keyboard\r\n                e.stopPropagation();\r\n            });\r\n\r\n                var defaultHeight = 50;\r\n\r\n            var iframe = null;\r\n            if (this.useIframe) {\r\n                iframe = document.createElement(\"iframe\");\r\n                iframe.id = this.id + \"iframe\";\r\n                iframe.name = this.id + \"iframe\";\r\n                iframe.frameBorder = '0';\r\n                iframe.style.width = '100%';\r\n                iframe.style.height = defaultHeight + 'px';\r\n                div.appendChild(iframe);\r\n            }\r\n\r\n            container.appendChild(div);\r\n\r\n            this.div = div;\r\n            this.iframe = iframe;\r\n            this.hideDiv = hide;\r\n        };\r\n\r\n        this.setInnerHTML = function(id, innerHTML) {\r\n            var frame = window.frames[id];\r\n\r\n            var doc = frame.contentWindow || frame.document || frame.contentDocument;\r\n            if (doc.document) {\r\n                doc = doc.document;\r\n            }\r\n\r\n            if (doc.body == null) {       // null in IE\r\n                doc.write(\"<body></body>\");\r\n            }\r\n\r\n            if (innerHTML.nodeType) {\r\n                doc.body.appendChild(innerHTML);\r\n            }\r\n            else {\r\n                doc.body.innerHTML = innerHTML;\r\n            }\r\n\r\n            if (This.autoStretch) {\r\n                if (!This.autoStretchFirstLoadOnly || !This._stretched) {\r\n                    This.stretch();\r\n                    This._stretched = true;\r\n                }\r\n            }\r\n        };\r\n\r\n        this.close = function(result) {\r\n            this.result = result;\r\n            this.hide();\r\n        };\r\n\r\n        this.closeSerialized = function() {\r\n            var ref = This._body();\r\n            var fields = ref.querySelectorAll(\"input, textarea, select\");\r\n            var result = {};\r\n            for (var i = 0; i < fields.length; i++) {\r\n                var field = fields[i];\r\n                var name = field.name;\r\n                if (!name) {\r\n                    continue;\r\n                }\r\n                var value = field.value;\r\n                /*if (field.picker) {\r\n                    value = field.picker.date ? field.picker.date.toString() : null;\r\n                }\r\n                else*/ /*if (field.table) {\r\n                    value = field.table.save();\r\n                }\r\n                else*/ /*if (field.searchable) {\r\n                    value = field.searchable.selected && field.searchable.selected.id;\r\n                }\r\n                else *//*if (field.tagName === \"SELECT\") {\r\n                    var option = field.options[field.selectedIndex];\r\n                    if (option && typeof option._originalValue !== \"undefined\") {\r\n                        value = option._originalValue;\r\n                    }\r\n                }\r\n                else*/ /*if (field.type === \"radio\") {\r\n                    if (!field.checked) {\r\n                        continue;\r\n                    }\r\n                    value = field._originalValue;\r\n                }\r\n                else*/ /*if (field.type === \"checkbox\") {\r\n                    value = field.checked;\r\n                }*/\r\n                result[name] = value;\r\n            }\r\n            This.close(result);\r\n        };\r\n\r\n        this.hide = function(options) {\r\n\r\n            options = options || {};\r\n\r\n            var args = {};\r\n            args.backgroundClick = !!options.backgroundClick;\r\n            args.result = this.result;\r\n            args.canceled = typeof this.result === \"undefined\";\r\n            args.preventDefault = function() {\r\n                this.preventDefault.value = true;\r\n            };\r\n\r\n            if (typeof this.onClose === \"function\") {\r\n                this.onClose(args);\r\n                if (args.preventDefault.value) {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (this.div) {\r\n                this.div.style.display = 'none';\r\n                this.hideDiv.style.display = 'none';\r\n                if (!this.useIframe) {\r\n                    this.div.innerHTML = null;\r\n                }\r\n            }\r\n\r\n            // return focus to the main window (Firefox)\r\n            window.focus();\r\n\r\n            //DayPilot.ModalStatic = null;\r\n            DayPilot.ModalStatic.remove(this);\r\n\r\n            if (typeof this.onClosed === \"function\") {\r\n                this.onClosed(args);\r\n            }\r\n            else if (this.closed) {\r\n                this.closed();\r\n            }\r\n\r\n            delete this.result;\r\n\r\n            if (this.disposeOnClose) {\r\n\r\n                This._unregister();\r\n\r\n                This._de(This.div);\r\n                This._de(This.hideDiv);\r\n\r\n                This.div = null;\r\n                This.hideDiv = null;\r\n                This.iframe = null;\r\n            }\r\n        };\r\n\r\n        this._de = function(e) {\r\n            if (!e) {\r\n                return;\r\n            }\r\n            e.parentNode && e.parentNode.removeChild(e);\r\n        };\r\n\r\n        this._applyOptions = function() {\r\n            if (!options) {\r\n                return;\r\n            }\r\n\r\n            for (var name in options) {\r\n                this[name] = options[name];\r\n            }\r\n        };\r\n\r\n        this._applyOptions();\r\n\r\n    };\r\n\r\n    DayPilot.Modal.alert = function(message, options) {\r\n        options = options || {};\r\n        options.height = options.height || 40;\r\n        options.useIframe = false;\r\n\r\n        var okText = options.okText || \"OK\";\r\n        var cancelText = options.cancelText || \"Cancel\";\r\n\r\n        return DayPilot.getPromise(function(success, failure) {\r\n            options.onClosed = function(args) {\r\n                success(args);\r\n                /*\r\n                if (typeof args.result === \"undefined\") {\r\n                    failure(args);\r\n                }\r\n                else {\r\n\r\n                }*/\r\n            };\r\n\r\n            var modal = new DayPilot.Modal(options);\r\n\r\n            var div = document.createElement(\"div\");\r\n            div.className = modal.theme + \"_inner\";\r\n            // div.style.padding = \"10px\";\r\n\r\n            var text = document.createElement(\"div\");\r\n            text.className = modal.theme + \"_content\";\r\n            text.innerHTML = message;\r\n\r\n            var buttons =  document.createElement(\"div\");\r\n            buttons.className = modal.theme + \"_buttons\";\r\n            // buttons.style.margin = \"10px 0px\";\r\n\r\n            var buttonOK = document.createElement(\"button\");\r\n            buttonOK.innerText = okText;\r\n            buttonOK.className = modal.theme + \"_ok\";\r\n            buttonOK.onclick = function(e) {\r\n                DayPilot.ModalStatic.close(\"OK\");\r\n            };\r\n\r\n            buttons.appendChild(buttonOK);\r\n\r\n            div.appendChild(text);\r\n            div.appendChild(buttons);\r\n\r\n            //var buttons = \"<div style='margin: 10px 0px'><button onclick='parent.DayPilot.ModalStatic.close();' autofocus>OK</button></div>\";\r\n\r\n            modal.showHtml(div);\r\n\r\n            if (modal.autoFocus) {\r\n                buttonOK.focus();\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    DayPilot.Modal.confirm = function(message, options) {\r\n        options = options || {};\r\n        options.height = options.height || 40;\r\n        options.useIframe = false;\r\n\r\n        var okText = options.okText || \"OK\";\r\n        var cancelText = options.cancelText || \"Cancel\";\r\n\r\n        return DayPilot.getPromise(function(success, failure) {\r\n            options.onClosed = function(args) {\r\n                success(args);\r\n            };\r\n\r\n            var modal = new DayPilot.Modal(options);\r\n\r\n            var div = document.createElement(\"div\");\r\n            div.className = modal.theme + \"_inner\";\r\n            // div.style.padding = \"10px\";\r\n\r\n            var text = document.createElement(\"div\");\r\n            text.className = modal.theme + \"_content\";\r\n            text.innerHTML = message;\r\n\r\n            var buttons =  document.createElement(\"div\");\r\n            buttons.className = modal.theme + \"_buttons\";\r\n            // buttons.style.margin = \"10px 0px\";\r\n\r\n            var buttonOK = document.createElement(\"button\");\r\n            buttonOK.innerText = okText;\r\n            buttonOK.className = modal.theme + \"_ok\";\r\n            buttonOK.onclick = function(e) {\r\n                DayPilot.ModalStatic.close(\"OK\");\r\n            };\r\n\r\n            var space = document.createTextNode(\" \");\r\n\r\n            var buttonCancel = document.createElement(\"button\");\r\n            buttonCancel.innerText = cancelText;\r\n            buttonCancel.className = modal.theme + \"_cancel\";\r\n            buttonCancel.onclick = function(e) {\r\n                DayPilot.ModalStatic.close();\r\n            };\r\n\r\n            buttons.appendChild(buttonOK);\r\n            buttons.appendChild(space);\r\n            buttons.appendChild(buttonCancel);\r\n\r\n            div.appendChild(text);\r\n            div.appendChild(buttons);\r\n\r\n            modal.showHtml(div);\r\n\r\n            if (modal.autoFocus) {\r\n                buttonOK.focus();\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n\r\n    DayPilot.Modal.prompt = function(message, defaultValue, options) {\r\n        if (typeof defaultValue === \"object\") {\r\n            options = defaultValue;\r\n            defaultValue = \"\";\r\n        }\r\n\r\n        options = options || {};\r\n        options.height = options.height || 40;\r\n        options.useIframe = false;\r\n\r\n        var okText = options.okText || \"OK\";\r\n        var cancelText = options.cancelText || \"Cancel\";\r\n\r\n        var inputText = defaultValue || \"\";\r\n\r\n        return DayPilot.getPromise(function(success, failure) {\r\n            options.onClosed = function(args) {\r\n                success(args);\r\n            };\r\n\r\n            var modal = new DayPilot.Modal(options);\r\n\r\n            var div = document.createElement(\"div\");\r\n            div.className = modal.theme + \"_inner\";\r\n\r\n            var text = document.createElement(\"div\");\r\n            text.className = modal.theme + \"_content\";\r\n            text.innerHTML = message;\r\n\r\n            var inputs = document.createElement(\"div\");\r\n            inputs.className = modal.theme + \"_input\";\r\n            //inputs.style.margin = \"10px 0px\";\r\n\r\n            var input = document.createElement(\"input\");\r\n            input.value = inputText;\r\n            input.style.width = \"100%\";\r\n            input.onkeydown = function(e) {\r\n                var letcontinue = false;\r\n                switch (e.keyCode) {\r\n                    case 13:\r\n                        modal.close(this.value);\r\n                        break;\r\n                    case 27:\r\n                        modal.close();\r\n                        break;\r\n                    default:\r\n                        letcontinue = true;\r\n                        break;\r\n                }\r\n                if (!letcontinue) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                }\r\n            };\r\n\r\n            inputs.appendChild(input);\r\n\r\n            var buttons =  document.createElement(\"div\");\r\n            buttons.className = modal.theme + \"_buttons\";\r\n            //buttons.style.margin = \"10px 0px\";\r\n\r\n            var buttonOK = document.createElement(\"button\");\r\n            buttonOK.innerText = okText;\r\n            buttonOK.className = modal.theme + \"_ok\";\r\n            buttonOK.onclick = function(e) {\r\n                modal.close(input.value);\r\n            };\r\n\r\n            var space = document.createTextNode(\" \");\r\n\r\n            var buttonCancel = document.createElement(\"button\");\r\n            buttonCancel.innerText = cancelText;\r\n            buttonCancel.className = modal.theme + \"_cancel\";\r\n            buttonCancel.onclick = function(e) {\r\n                modal.close();\r\n            };\r\n\r\n            buttons.appendChild(buttonOK);\r\n            buttons.appendChild(space);\r\n            buttons.appendChild(buttonCancel);\r\n\r\n\r\n            div.appendChild(text);\r\n            div.appendChild(inputs);\r\n            div.appendChild(buttons);\r\n\r\n            modal.showHtml(div);\r\n\r\n            if (modal.autoFocus) {\r\n                input.focus();\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    var isArray = function(arg) {\r\n        return Object.prototype.toString.call(arg) === '[object Array]';\r\n    };\r\n\r\n    function setPathValue(target, path, value) {\r\n        var iodot = path.indexOf(\".\");\r\n        if (iodot === -1) {\r\n            if (path !== \"__proto__\" && path !== \"constructor\") {\r\n                target[path] = value;\r\n            }\r\n            return;\r\n        }\r\n        var segment = path.substring(0, iodot);\r\n        if (segment === \"__proto__\" || segment === \"constructor\") {\r\n            return;\r\n        }\r\n        var remainder = path.substring(iodot + 1);\r\n        var child = target[segment];\r\n        if (typeof child !== \"object\" || child === null) {\r\n            target[segment] = {};\r\n            child = target[segment];\r\n        }\r\n        setPathValue(child, remainder, value);\r\n    }\r\n\r\n    // form = array of items\r\n    // data = object with properties\r\n    // options = standard modal properties\r\n    // DayPilot.Modal.form([]);  // form only - new data\r\n    // DayPilot.Modal.form({});  // data only - automatic form\r\n    //\r\n    DayPilot.Modal.form = function(form, data, options) {\r\n        if (arguments.length === 1) {\r\n            var arg = form;\r\n            var isa = isArray(arg);\r\n\r\n            if (isa) {\r\n                data = {};\r\n            }\r\n            else if (typeof arg === \"object\") {\r\n                data = form;\r\n                form = [];\r\n                for (var name in data) {\r\n                    var item = {};\r\n                    item.name = name;\r\n                    item.id = name;\r\n                    form.push(item);\r\n                }\r\n            }\r\n            else {\r\n                throw \"Invalid DayPilot.Modal.form() parameter\";\r\n            }\r\n\r\n        }\r\n\r\n        // make a copy\r\n        var opts = {};\r\n        for (var name in options) {\r\n            opts[name] = options[name];\r\n        }\r\n\r\n        // options = options || {};\r\n        opts.height = opts.height || 40;\r\n        opts.useIframe = false;\r\n\r\n/*        if (typeof opts.autoFocus === \"undefined\") {\r\n            opts.autoFocus = false;\r\n        }*/\r\n\r\n        var okText = opts.okText || \"OK\";\r\n        var cancelText = opts.cancelText || \"Cancel\";\r\n\r\n        // var message = opts.message || \"\";\r\n\r\n        return DayPilot.getPromise(function(success, failure) {\r\n            opts.onClosed = function(args) {\r\n\r\n                if (args.result) {\r\n                    // deep copy\r\n                    var mergedResult = JSON.parse(JSON.stringify(data));\r\n\r\n                    // unflatten\r\n                    for (var name in args.result) {\r\n                        setPathValue(mergedResult, name, args.result[name]);\r\n                    }\r\n                    args.result = mergedResult;\r\n                }\r\n\r\n                success(args);\r\n            };\r\n\r\n            var modal = new DayPilot.Modal(opts);\r\n\r\n            var div = document.createElement(\"div\");\r\n            div.className = modal.theme + \"_inner\";\r\n\r\n            var inputs = document.createElement(\"div\");\r\n            inputs.className = modal.theme + \"_input\";\r\n\r\n            var f = new Form({\r\n                theme: modal.theme,\r\n                form: form,\r\n                data: data,\r\n                zIndex: modal.zIndex,\r\n                locale: modal.locale,\r\n                plugins: modal.plugins,\r\n                onKey: function(args) {\r\n                    switch (args.key) {\r\n                        case \"Enter\":\r\n                            // modal.closeSerialized();\r\n                            // modal.close(f.serialize());\r\n                            if (f.validate()) {\r\n                                modal.close(f.serialize());\r\n                            }\r\n                            break;\r\n                        case \"Escape\":\r\n                            modal.close();\r\n                            break;\r\n                    }\r\n                },\r\n                onChange: function(args) {\r\n                    if (typeof modal.onChange === \"function\") {\r\n                        modal.onChange(args);\r\n                    }\r\n                }\r\n            });\r\n            var el = f.create();\r\n\r\n            inputs.append(el);\r\n\r\n            var buttons =  document.createElement(\"div\");\r\n            buttons.className = modal.theme + \"_buttons\";\r\n\r\n            var buttonOK = document.createElement(\"button\");\r\n            buttonOK.innerText = okText;\r\n            buttonOK.className = modal.theme + \"_ok\";\r\n\r\n            if (opts.okDisabled) {\r\n                buttonOK.disabled = true;\r\n            }\r\n            buttonOK.onclick = function(e) {\r\n                if (f.validate()) {\r\n                    modal.close(f.serialize());\r\n                }\r\n                // modal.closeSerialized();\r\n            };\r\n\r\n            var space = document.createTextNode(\" \");\r\n\r\n            var buttonCancel = document.createElement(\"button\");\r\n            buttonCancel.innerText = cancelText;\r\n            buttonCancel.className = modal.theme + \"_cancel\";\r\n            buttonCancel.onclick = function(e) {\r\n                modal.close();\r\n            };\r\n            buttonCancel.onmousedown = function(e) {\r\n                f.canceling = true;\r\n            };\r\n\r\n            buttons.appendChild(buttonOK);\r\n            buttons.appendChild(space);\r\n            buttons.appendChild(buttonCancel);\r\n\r\n\r\n            // div.appendChild(text);\r\n            div.appendChild(inputs);\r\n            div.appendChild(buttons);\r\n\r\n            modal.showHtml(div);\r\n\r\n            modal.div.setAttribute(\"tabindex\", \"-1\");\r\n            modal.div.addEventListener(\"keydown\", function(e) {\r\n                switch (e.keyCode) {\r\n                    case 27:\r\n                        modal.close();\r\n                        break;\r\n                    case 13:\r\n                        if (f.validate()) {\r\n                            modal.close(f.serialize());\r\n                        }\r\n                        // modal.closeSerialized();\r\n                        break;\r\n                }\r\n            });\r\n\r\n            if (modal.focus) {\r\n                var toBeFocused = null;\r\n                if (typeof modal.focus === \"object\") {\r\n                    var id = modal.focus.id;\r\n                    var value = modal.focus.value;\r\n                    toBeFocused = f.findViewById(id, value);\r\n                }\r\n                else if (typeof modal.focus === \"string\") {\r\n                    toBeFocused = f.findViewById(modal.focus)\r\n                }\r\n                if (toBeFocused) {\r\n                    toBeFocused.focus();\r\n                }\r\n            }\r\n            else {\r\n                var first = f.firstFocusable();\r\n                if (modal.autoFocus && first) {\r\n                    first.focus();\r\n                }\r\n                else {\r\n                    modal.div.focus();\r\n                }\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    DayPilot.Modal.close = function(result) {\r\n        var opener = DayPilot.Modal.opener();\r\n        if (!opener) {\r\n            return;\r\n        }\r\n        opener.close(result);\r\n    };\r\n\r\n    DayPilot.Modal.stretch = function(result) {\r\n        var opener = DayPilot.Modal.opener();\r\n        if (!opener) {\r\n            throw \"Unable to find the opener DayPilot.Modal instance.\";\r\n        }\r\n        opener.stretch();\r\n    };\r\n\r\n    DayPilot.Modal.closeSerialized = function() {\r\n        var last = DayPilot.Modal.opener() || DayPilot.ModalStatic.last();\r\n        if (last) {\r\n            last.closeSerialized();\r\n        }\r\n    };\r\n\r\n    DayPilot.Modal.opener = function() {\r\n        if (typeof DayPilot !== \"undefined\" && typeof DayPilot.ModalStatic !== \"undefined\" && DayPilot.ModalStatic.list.length > 0) {\r\n            return DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length - 1];\r\n        }\r\n        return parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1];\r\n    };\r\n\r\n    DayPilot.Modal.Experimental = {};\r\n    DayPilot.Modal.Experimental.Form = Form;\r\n\r\n    if (typeof DayPilot.getPromise === \"undefined\") {\r\n        DayPilot.getPromise = function(f) {\r\n            if (typeof Promise !== 'undefined') {\r\n                return new Promise(f);\r\n            }\r\n\r\n            DayPilot.Promise = function(f) {\r\n                var p = this;\r\n\r\n                this.then = function(onFulfilled, onRejected) {\r\n                    onFulfilled = onFulfilled || function() {};\r\n                    onRejected = onRejected || function() {};\r\n                    f(onFulfilled, onRejected);\r\n                    return DayPilot.getPromise(f);\r\n                };\r\n\r\n                this['catch'] = function(onRejected) {\r\n                    p.then(null, onRejected);\r\n                    return DayPilot.getPromise(f);\r\n                };\r\n            };\r\n\r\n            return new DayPilot.Promise(f);\r\n\r\n        };\r\n    }\r\n\r\n})(local);\r\n\r\nconst {Modal} = local;\r\nexport {Modal}\r\n"],
  "mappings": "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",
  "names": ["Searchable", "local", "local", "i", "local", "local", "navigator", "pageOffset", "local", "Table", "el", "cell", "local", "Form", "row", "input", "picker", "select", "searchable", "radio", "checkbox", "table", "local", "sheet", "document", "options", "name", "f"]
}
